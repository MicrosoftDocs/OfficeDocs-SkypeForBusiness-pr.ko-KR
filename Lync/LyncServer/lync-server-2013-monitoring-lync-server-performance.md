---
title: 'Lync Server 2013: Lync Server 성능 모니터링'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
TOCTitle: Monitoring Lync Server 2013 performance
ms:assetid: 2acfd720-6120-4816-a2d4-30476bd5cd0e
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Dn720910(v=OCS.15)
ms:contentKeyID: 63969592
ms.date: 01/27/2015
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: a9610dddfa9748b7d28dfe040a36214f3f969826
ms.sourcegitcommit: bb53f131fabb03a66f0d000f8ba668fbad190778
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/11/2019
ms.locfileid: "40985629"
---
<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="http://msdn.microsoft.com/en-us/">

<div data-asp="http://msdn2.microsoft.com/asp">

# <a name="monitoring-lync-server-2013-performance"></a>Lync Server 2013 성능 모니터링

</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**마지막으로 수정한 주제:** 2014-05-15_

Lync Server 2013 성능은 사용자 프로필, 시스템 아키텍처, 소프트웨어, 하드웨어 구성 요소, 게이트웨이 및 전화 통신 장비, 네트워크 연결 및 성능, Windows와 같은 타사 통합 지점 등의 다양 한 요인의 영향을 받습니다. Active Directory 서비스 구성과 성능 외에도 Windows 운영 체제 기능입니다.

Lync Server 2013 배포의 핵심은 구현 되는 서버 소프트웨어 및 하드웨어입니다. 예를 들어 프런트 엔드 서버에는 예상 되는 사용자 로드 (단기)를 처리할 충분 한 하드웨어 리소스가 있어야 합니다. 1만 사용자에 게 서비스를 제공 하는 데 필요한 각 프런트 엔드 서버를 사용 하는 경우 적절 하 게 구성 된 서버가 예상 되는 로드 요구 사항을 충족 해야 가장 적합 한 최종 사용자 환경을 유지할 수 있습니다.

따라서 서버 성능 모니터링은 구현 된 서버 인프라에 일일 피크 로드 요구 사항에 적합 한 하드웨어 리소스가 있는지 여부를 측정 하는 데 매우 중요 합니다. 서버 성능을 모니터링 하면 최종 사용자 환경에 영향을 미치지 않기 위해 관리자가 정정 작업을 적용할 수 있도록 시스템 병목 상태를 확인할 수 있습니다. 성능 데이터는 장기간 용량 계획에 사용 해야 합니다.

제공 되는 모든 성능 개체 및 카운터에 대 한 자세한 내용은 [System Center Operations Manager를 통해 Lync Server 2013을 모니터링](lync-server-2013-monitoring-lync-server-with-system-center-operations-manager.md)하는 데 연결 되어 있지만, 다음의 몇 가지 성능 카운터를 사용 하 여 관리자에 게 시스템 성능을 빠르게 확인할 수 있습니다.

  - 프런트 엔드 서버의 전반적인 시스템 상태를 추적 하기 위해 프로세서\\시간% 프로세서를 확인 하는 것이 좋은 출발점입니다. 값은 항상 80% 미만 이어야 합니다.

  - 프런트 엔드 풀에서 사용 하는 백 엔드 SQL Server 데이터베이스 소프트웨어 인스턴스의 성능을 추적 하려면 다음 성능 카운터를 모니터링 합니다.
    
    LC: USrv – 00 – DBStore\\usrv – 002 – 큐 대기 시간 (밀리초)
    
    LC: USrv – 00 – DBStore\\usrv – 0 04-저장 프로시저 대기 시간 (밀리초)
    
    정상 상태의 서버는 100 ms 대기 시간 \<값을 표시 해야 합니다. 대기 시간에 도달 하면 프런트 엔드 서버가 백 엔드에 대 한 요청 제한 시작을 의미 하는 12 초가 될 때까지 제한 메커니즘이 사용 됩니다. 이 때문에 클라이언트가 503 서버 사용량이 너무 많은 오류 메시지를 수신 하는 것이 시작 됩니다.

  - 프런트 엔드 서버에서 처리 시간을 추적 하려면 다음 카운터를 모니터링 합니다.
    
    LC: SIP-07-부하 관리\\SIP-000-받는 메시지에 대 한 평균 유지 시간
    
    이는 프런트 엔드 서버의 처리 시간이 높을 때 시작 되는이 시간을 프런트 엔드 서버에서 사용할 수 있는 또 다른 제한 메커니즘입니다. 평균 처리 시간이 6 초를 초과 하는 경우 서버는 제한 모드로 전환 되 고 클라이언트 연결당 해결 되지 않은 트랜잭션만 하나만 허용 합니다.

  - SQL 백 엔드 서버에서 메모리 문제를 추적 하려면 다음 카운터를 모니터링 하세요.
    
    SQL Server 버퍼 관리자\\페이지 수명 액
    
    3600 초 미만인 낮은 값 (대기 시간이 긴 기록/초 및 검사점 페이지/초)이 메모리 사용량을 나타냅니다.

<div>

## <a name="additional-counters-to-view"></a>표시할 추가 카운터

프런트 엔드 서버의 전반적인 상태에 대 한 훌륭한 지표로 표시 되는 몇 가지 주요 카운터가 있습니다. 이것은 포괄적인 목록이 아니며 근본 원인을 파악 하는 것이 아닙니다. 이러한 카운터를 통해 서버 상태에 대 한 빠른 검사를 수행할 수 있습니다. 풀의 각 서버에서 이러한 카운터를 확인 하는 것이 좋습니다. 이러한 카운터 값은 서버가 정상 상태인 경우를 이해 하는 것이 중요 합니다. 기준에 따라 사용자 환경의 성능이 떨어질 때 변경 내용을 이해 해야 합니다.

프런트 엔드 서버는 시스템의 다른 곳에 있는 병목 현상으로 인해 발생할 수 있는 문제를 나타낼 수 있습니다. 즉, 전체 시스템 상태를 볼 때 가장 좋은 시작 위치입니다.

먼저 검토 하는 두 가지 추가 카운터는 다음과 같습니다.

LC: USrv-00-DBStore\\usrv-002-큐 대기 시간 (밀리초)

LC: USrv-00-DBStore\\usrv-004-저장 프로시저 대기 시간 (밀리초)

Queue latency 카운터는 큐에서 백 엔드 까지의 요청이 소요 된 시간 및 처리 대기 시간을 나타내며 백 엔드가 요청을 처리 하는 데 걸리는 시간을 나타냅니다. 백 엔드의 어떠한 이유, 디스크, 메모리, 네트워크, 프로세서에 대해 문제가 발생 하는 경우 대기열 대기 시간이 더 높습니다.

또한 프론트 엔드와 백 엔드 사이에 네트워크 대기 시간이 많은 경우 높을 수 있습니다. 그렇다면 허용 되는 큐 대기 시간은 무엇 인가요?

12 초에 프런트 엔드 서버는 백 엔드 서버에 대 한 제한 요청을 시작 합니다. 이는 서버에서 서버 사용량이 많음 – 503 오류가 클라이언트에 반환 되기 시작 한다는 의미입니다. 정상 상태의 서버는 일정 한 상태에서 100 msec DBStore 대기열 대기 시간을 초과 해야 하지만, 서버가 온라인 상태로 전환 되 고 사용자가 동시에 로그인 하는 경우에는 해당 카운터가 매우 높을 수 있으며,이는 여러 번 발생 하는 것 처럼 보일 수도 있습니다.

부하 분산 구성을 사용할 수 있으며,이 경우 여러 프런트 엔드 서버를 사용 하 여 배포 된 풀과 "최소 연결 수"로 구성 된 부하 분산 장치가 있습니다. 이 경우 프런트 엔드 서버 중 하나가 다시 시작 되 면 해당 서버에는 다른 풀 구성원에 비해 더 적은 연결이 있으므로 다시 연결 하려는 모든 사용자가 다시 시작 된 서버를 가리킵니다. 이 기간 동안에는 해당 프런트 엔드 서버가 오버 로드 될 수 있지만 다른 풀 구성원은 그렇지 않습니다.

사용자가 동시에 서버에 연결 하기 위해 경쟁 하지 않는 경우에는 시간이 경과 되는 동안 유지 관리를 수행 하 여 성능이 저하 되는 것이 좋습니다.

이전의 두 성능 카운터가 높으면 SQL 백 엔드 서버에 병목 현상이 발생할 가능성이 큽니다. 확인 해야 할 다음 구성 요소는 다음과 같습니다.

  - SQL Server CPU가 너무 높기 때문에 예를 들어, 80% 이상 입니까?

  - 디스크 대기 시간이 높지 않습니까?

이상적으로는 메모리에 RTC 및 RTCDYN 데이터베이스를 둘 다 사용할 수 있는 충분 한 RAM이 있습니다. 그런 다음 서버가 디스크에 액세스 하는 유일한 이유가 로그 파일에 기록 하 고 데이터베이스에 플러시하는 것입니다. 테스트에서는 12gb의 RAM이 10만 사용자 배포에 충분 하다는 것을 보여 줍니다. 이는 RTC 및 RTCDYN 데이터베이스 크기가 12gb 미만인 것으로 가정 합니다. 데이터베이스가 이보다 크면 추가 메모리가 필요할 수 있습니다.

Sql server 버퍼 관리자 페이지 수명 액 성능 카운터를 검토 하 여 SQL Server에 추가 RAM이 필요한 지 여부를 결정할 수 있습니다. 3600 보다 작은 값은 메모리 사용량을 나타냅니다. 또한 SQL Server에서 데이터베이스에 쓰기만 해야 하므로 메모리가 충분 한 경우에는 데이터베이스 드라이브에 읽기가 거의 안 되지 않는 것을 볼 수 있습니다.

서버 처리 시간이 높을 경우 시작 하는 Lync Server 2013 프런트 엔드 서버에는 추가 조절 메커니즘이 있습니다. DBStore 대기 시간 제한은 SQL Server의 대기 시간이 높을 때만 사용할 수 있습니다. 이러한 제한이 사용 되는 한 가지 예는 프런트 엔드 서버가 CPU에 연결 되어 있는 경우입니다.

서버에서 평균 처리 시간 **(LC: sip-07-부하 관리\\SIP-000-받는 메시지의 경우)** 이 6 초를 초과 하면 서버는 제한 모드로 전환 되며 사용자는 클라이언트 연결당 한 가지 해결 되지 않은 트랜잭션만 제공 합니다. 처리 시간이 3 초로 떨어지면 서버가 제한 모드를 종료 하 고 사용자에 게 클라이언트 연결당 최대 20 개의 해결 되지 않은 트랜잭션을 제공 합니다. 특정 연결에 대 한 트랜잭션의 수가 위의 임계값을 초과할 때마다 흐름 제어로 연결 되는 것으로 표시 됩니다. 결과적으로 서버는 해당 파일에 대 한 수신을 게시 하지 않으며 **LC: SIP-01-피어\\흐름 제어 된 연결** 카운터가 증가 합니다. 연결이 흐름 제어 상태에서 1 분 이상으로 유지 되는 경우 서버에서 해당 연결을 닫습니다. 지연 됩니다. 연결을 확인할 기회가 있는 경우, 연결이 너무 오랫동안 스로틀 되었는지 여부를 확인 하 고 1 분이 넘으면이를 닫습니다.

다음은 두 가지 스로틀 메커니즘이 며, 서버가 수행 하는 제한 사항에 대 한 요약 한 가지 성능 카운터입니다.

**LC: SIP-04-응답\\SIP-053-로컬 503 응답/초**

  - 이전 카운터의 "Local" 이라는 용어는 로컬에서 생성 된 응답을 의미 합니다.

  - 503 코드는 서버를 사용할 수 없는 경우 (정상 서버에서 503 코드를 표시 하지 않아야 함)에 해당 합니다. 서버가 온라인 상태가 된 후의 기간 동안에는 일부 503 코드가 표시 될 수 있습니다. 모든 사용자가 다시 로그인 하 고 서버가 안정적인 상태로 반환 되는 경우 추가 503 코드가 없어야 합니다.

**LC: SIP-04-응답\\SIP-074-로컬 504 응답/초**

이 성능 카운터는 다른 서버와의 연결 문제를 나타내고 연결 하는 동안 발생 한 오류를 표시 하거나 연결을 지연 시킬 수 있습니다. 504 오류가 표시 되는 경우 다음 성능 카운터를 확인 해야 합니다.

**LC: SIP-01-피어\\SIP-017-해결 되지 않은 전송**

이 카운터는 나가는 대기 요청과 응답의 수를 나타냅니다. 이 카운터가 높으면 해당 문제가 로컬 서버에 없을 가능성이 큽니다. 네트워크 지연 문제가 있는 경우에는이 카운터가 높을 수 있다는 점에 유의 하세요. 로컬 네트워크 어댑터의 문제를 나타낼 수도 있지만, 원격 서버의 문제로 인해 발생할 가능성이 높습니다. 이 카운터는 통신 하려고 하는 풀이 오버 로드 되었을 때 디렉터 서버에서 높을 가능성이 높습니다. 이 카운터를 사용 하는 열쇠는 합계 뿐 아니라 인스턴스를 살펴보는 것입니다.

</div>

</div>

<span> </span>

</div>

</div>

</div>

