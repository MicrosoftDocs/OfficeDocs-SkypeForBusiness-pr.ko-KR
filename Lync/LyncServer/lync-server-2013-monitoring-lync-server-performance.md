---
title: 'Lync Server 2013: Lync Server 성능 모니터링'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
f1.keywords:
- NOCSH
TOCTitle: Monitoring Lync Server 2013 performance
ms:assetid: 2acfd720-6120-4816-a2d4-30476bd5cd0e
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Dn720910(v=OCS.15)
ms:contentKeyID: 63969592
ms.date: 01/27/2015
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: 0db9afa670cd21428a3dc4f4c812240abaa10468
ms.sourcegitcommit: 4d6bf5c58b2c553dc1df8375ede4a9cb9eaadff2
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/16/2020
ms.locfileid: "48531915"
---
# <a name="monitoring-lync-server-2013-performance"></a>Lync Server 2013 성능 모니터링

<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="https://msdn.microsoft.com/">

<div data-asp="https://msdn2.microsoft.com/asp">



</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**마지막으로 수정 된 항목:** 2014-05-15_

Lync Server 2013 성능은 사용자 프로필, 시스템 아키텍처, 소프트웨어, 하드웨어 구성 요소, 게이트웨이 및 전화 통신 장비, 네트워크 연결 및 성능, Windows Active Directory 서비스 구성 및 성능과 같은 타사 통합 지점과 Windows 운영 체제 기능에 영향을 받습니다.

Lync Server 2013 배포 성능은 구현 되는 서버 소프트웨어 및 하드웨어를 중심으로 합니다. 예를 들어 프런트 엔드 서버에는 예상 되는 (단기) 사용자 부하를 처리할 수 있는 충분 한 하드웨어 리소스가 있어야 합니다. 해당 하는 프런트 엔드 서버가 1만 사용자에 게 서비스를 제공 해야 하는 경우 적절 하 게 구성 된 서버가 예상 되는 로드 요구 사항을 충족 해야 최종 사용자에 게 가장 적합 한 환경을 유지할 수 있습니다.

따라서 구현 된 서버 인프라에 일상적인 최대 부하 요구 사항에 적합 한 하드웨어 리소스가 있는지 여부를 측정 하려면 서버 성능이 매우 중요 합니다. 모니터링 서버 성능은 최종 사용자 환경에 영향을 주기 전에 관리자가 정정 작업을 적용할 수 있도록 하는 시스템 병목 현상을 식별 하는 데 도움이 됩니다. 장기적 용량 계획에는 성능 데이터를 사용 해야 합니다.

확인할 모든 성능 개체 및 카운터에 대 한 자세한 내용은 [System Center Operations Manager를 사용 하 여 Lync Server 2013을 모니터링](lync-server-2013-monitoring-lync-server-with-system-center-operations-manager.md)하는에 연결 되어 있지만, 사용자가 수행 해야 하는 일부 성능 카운터는 관리자에 게 시스템 성능을 빠르게 확인할 수 있습니다.

  - 프런트 엔드 서버의 전체 시스템 상태를 추적 하려면 프로세서의 프로세서 시간을 검사 하는 것이 좋습니다 \\ . 값은 항상 80% 미만 이어야 합니다.

  - 프런트 엔드 풀에 사용 되는 백 엔드 SQL Server 데이터베이스 소프트웨어 인스턴스의 성능을 추적 하려면 다음 성능 카운터를 모니터링 합니다.
    
    LC: USrv-00-DBStore \\ usrv – 002 – Queue Latency (밀리초)
    
    LC: USrv-00-DBStore \\ usrv – 0 04-저장 프로시저 대기 시간 (밀리초)
    
    정상 상태의 서버에는 \< 100 밀리초의 대기 시간 값이 표시 됩니다. 대기 시간이 12 초에 도달 하는 경우 제한 메커니즘은 프런트 엔드 서버가 백 엔드에 대 한 제한 요청을 시작 함을 의미 합니다. 이로 인해 클라이언트에서 사용 하지 않은 503 서버의 통화 오류 메시지가 표시 됩니다.

  - 프런트 엔드 서버에서 처리 시간을 추적 하려면 다음 카운터를 모니터링 합니다.
    
    LC: SIP-07-부하 관리 \\ sip-000-받는 메시지에 대 한 평균 대기 시간
    
    프런트 엔드 서버의 또 다른 제한 메커니즘은 프런트 엔드의 처리 시간이 높을 때부터 시작 하는 시간입니다. 평균 처리 시간이 6 초를 초과 하면 서버가 제한 모드로 전환 되 고 클라이언트 연결당 해결 되지 않은 트랜잭션이 하나만 허용 됩니다.

  - SQL 백 엔드 서버에서 메모리 문제를 추적 하려면 다음 카운터를 모니터링 합니다.
    
    SQL Server 버퍼 관리자 \\ 페이지 수명 예상
    
    낮은 값 (예를 들어, 3600 초 미만, 높은 대기 시간 쓰기/초 및 검사점 페이지/초)은 메모리 압력을 나타냅니다.

<div>

## <a name="additional-counters-to-view"></a>확인할 추가 카운터

프런트 엔드 서버의 전체 상태를 나타내는 훌륭한 지표 인 몇 가지 주요 카운터가 있습니다. 이 목록은 포괄적인 목록이 아니며 근본적인 원인을 파악 하기 위한 것이 아닙니다. 이러한 카운터를 사용 하 여 서버 상태를 빠르게 확인할 수 있습니다. 풀의 각 서버에서 이러한 카운터를 확인 하는 것이 좋습니다. 서버가 정상 상태 이면 이러한 카운터 값이 무엇 인지 이해 하는 것이 중요 합니다. 사용자 환경에 문제가 발생 했을 때 변경 된 내용을 이해 하려면 기준이 필요 합니다.

프런트 엔드 서버는 시스템의 다른 곳에서 발생 하는 병목 현상으로 인해 발생할 수 있는 문제를 나타낼 수 있습니다. 즉, 전체 시스템 상태를 볼 때부터 시작 하는 것이 가장 좋은 위치입니다.

먼저 검토 하는 두 가지 추가 카운터는 다음과 같습니다.

LC: USrv-00-DBStore \\ usrv-002-큐 대기 시간 (밀리초)

LC: USrv-00-DBStore \\ usrv-004-저장 프로시저 대기 시간 (밀리초)

큐 대기 시간 카운터는 큐에서 백 엔드로 요청이 소비한 시간 및 저장 프로시저 대기 시간을 나타내며 백 엔드에서 요청을 처리 하는 데 걸린 시간을 나타냅니다. 어떤 이유로 든 백 엔드에서 디스크, 메모리, 네트워크 및 프로세서가 문제가 되는 경우 큐 대기 시간 카운터가 더 높아집니다.

또한 프런트 엔드와 백 엔드 사이에 네트워크 대기 시간이 긴 경우에도 높은 시간을 사용할 수 있습니다. 그렇다면 허용 되는 큐 대기 시간은 어떻게 됩니까?

12 초 이내에 프런트 엔드 서버는 백 엔드 서버에 대 한 제한 요청을 시작 합니다. 즉, 서버에서 서버 사용량이 많음-503 오류를 클라이언트에 게 반환 하기 시작 합니다. 정상 상태의 서버는 일정 한 상태에서 100 밀리초 DBStore 큐 대기 시간을 넘지 않아야 하지만 서버가 온라인 상태가 되 고 사용자가 동시에 모든 로그인 인 경우 해당 카운터가 매우 높아질 수 있으며,이 경우에는 시간이 너무 오래 걸릴 수도 있습니다.

부하 분산 구성을 사용 하 여 여러 프런트 엔드 서버로 배포 된 풀과 "최소 연결 수"에 대해 구성 된 부하 분산 장치를 사용할 수 있습니다. 이 경우 프런트 엔드 서버를 다시 시작 하면 해당 서버는 다른 풀 구성원에 비해 연결이 더 적기 때문에 다시 연결 하려는 모든 사용자는 다시 시작 된 서버를 가리킵니다. 이 시간 동안에는 다른 풀 구성원이 아닌 경우 각 프런트 엔드 서버가 오버 로드 될 수 있습니다.

사용자가 동시에 서버에 연결 하기 위해 경쟁 하지 않을 때까지 시간이 오래 걸리는 경우에 유지 관리를 수행 하 여 성능에 미치는 영향을 줄이는 것이 좋습니다.

이전의 두 성능 카운터가 높으면 SQL 백 엔드 서버에 병목 현상이 발생할 가능성이 높습니다. 다음으로 확인 해야 하는 구성 요소는 다음과 같습니다.

  - SQL Server CPU가 너무 높 습니까? 예를 들어, 80% 이상 입니까?

  - 디스크 대기 시간이 높 습니까?

이상적인 세상에서 메모리에 RTC 및 RTCDYN 데이터베이스를 모두 포함할 수 있는 충분 한 RAM이 있는 경우 그런 다음 서버가 디스크에 액세스 하는 유일한 이유는 로그 파일에 쓰고 데이터베이스에 플러시하는 것입니다. 테스트에서는 12gb RAM이 10만 사용자 배포에 충분 하다 고 표시 했습니다. 이 경우 RTC 및 RTCDYN 데이터베이스 크기 합계가 12gb 미만인 것으로 가정 합니다. 데이터베이스가 이보다 큰 경우에는 메모리가 추가로 필요할 수 있습니다.

Sql server 버퍼 관리자 페이지 수명 액 성능 카운터를 검토 하 여 SQL 서버에 추가 RAM이 필요한 지 여부를 결정할 수 있습니다. 값이 3600 보다 작으면 메모리 압력을 나타냅니다. 또한 SQL Server가 데이터베이스에 써야 하는 경우에만 충분 한 메모리가 있는 경우 데이터베이스 드라이브에 읽기가 거의 없는 것을 볼 수 있습니다.

Lync Server 2013 프런트 엔드 서버에는 서버 처리 시간이 높으면 시작 되는 추가 제한 메커니즘이 있습니다. SQL Server에 대 한 대기 시간이 높으면 DBStore 대기 시간 제한은 사용 하도록 설정 됩니다. 이러한 제한이 사용 되도록 설정 된 한 가지 예는 프런트 엔드 서버가 CPU에 연결 되어 있는 경우입니다.

서버에서 **들어오는 메시지에 대 한 평균 처리 시간 (LC: sip-07-7-부하 관리 \\ SIP-000 평균 대기 시간)** 이 6 초를 초과 하는 경우 서버는 제한 모드로 전환 되며 사용자에 게 클라이언트 연결당 하나의 해결 되지 않은 트랜잭션이 제공 됩니다. 처리 시간이 3 초까지 떨어지면 서버가 제한 모드를 해제 하 고 사용자에 게 클라이언트 연결당 최대 20 개의 해결 되지 않은 트랜잭션을 제공 합니다. 특정 연결에 대 한 트랜잭션 수가 위의 임계값을 초과할 때마다 해당 연결이 흐름 제어로 표시 됩니다. 따라서 서버에서 수신이 발생 하지 않으며 **LC: SIP-01-피어 \\ 흐름 제어 된 연결** 카운터가 증가 합니다. 1 분 이상 동안 연결이 흐름 제어 상태에 남아 있으면 서버에서 해당 연결을 닫습니다. 지연 됩니다. 연결을 확인할 수 있는 경우에는 연결이 너무 오랫동안 제한 되었는지 확인 하 고 1 분이 넘으면이를 닫습니다.

두 가지 제한 메커니즘 및 서버가 수행 하는 제한 사항을 요약 하는 하나의 성능 카운터를 제공 합니다.

**LC: SIP-04-응답 \\ sip-053-Local 503 응답/초**

  - 이전 카운터에서 "Local" 이라는 용어는 로컬로 생성 된 응답을 나타냅니다.

  - 503 코드는 서버를 사용할 수 없는 상태 이며 정상 서버에 503 코드가 표시 되지 않습니다. 서버를 온라인으로 전환 하는 기간 동안 몇 가지 503 코드가 표시 될 수 있습니다. 모든 사용자가 로그인 하 고 서버가 안정적인 상태로 복원 되 면 추가 503 코드가 발생 하지 않습니다.

**LC: SIP-04-응답 \\ sip-074-Local 504 응답/초**

이 성능 카운터는 다른 서버와의 연결 문제를 나타내며 연결에 대 한 실패 또는 연결 지연을 나타낼 수 있습니다. 504 오류가 표시 되는 경우에는 다음 성능 카운터를 확인 해야 합니다.

**LC: SIP-01-피어 \\ sip-017-전송 중인**

이 카운터는 나가는 대기 된 요청 및 응답 수를 나타냅니다. 이 카운터가 높으면 문제가 로컬 서버에 없을 가능성이 높습니다. 네트워크 대기 시간에 문제가 있는 경우이 카운터를 높게 설정할 수 있습니다. 또한 로컬 네트워크 어댑터에 문제가 있음을 나타낼 수도 있지만, 원격 서버에서 발생 하는 문제로 인 한 것일 수 있습니다. 이 카운터는 통신을 시도 하는 풀이 오버 로드 된 경우 디렉터 서버에서 높은 가능성이 높습니다. 이 카운터를 사용 하는 키는 합계 뿐 아니라 인스턴스를 확인 하는 것입니다.

</div>

</div>

<span> </span>

</div>

</div>

</div>

