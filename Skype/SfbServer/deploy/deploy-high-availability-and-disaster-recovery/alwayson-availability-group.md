---
title: 비즈니스용 Skype 서버에서 백 엔드 서버에 Always On 가용성 그룹 배포
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: c93c01e6-626c-40ad-92dd-373b0fe9189f
description: 비즈니스용 Skype 서버 배포에 Always On 가용성 그룹을 배포(설치)합니다.
ms.openlocfilehash: 83565efe850570ac5ab9a0695757e708f3eae566
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/12/2021
ms.locfileid: "49830658"
---
# <a name="deploy-an-always-on-availability-group-on-a-back-end-server-in-skype-for-business-server"></a>비즈니스용 Skype 서버에서 백 엔드 서버에 Always On 가용성 그룹 배포
 
비즈니스용 Skype 서버 배포에 Always On AG(가용성 그룹)를 배포(설치)합니다.
  
AG를 배포하는 방법은 새 풀에 배포하는지, 미러링을 사용하는 기존 풀 또는 현재 백 엔드 데이터베이스에 대해 고가용성이 없는 기존 풀에 배포하는지 여부에 따라 달라집니다.
  
> [!NOTE]
> 영구 채팅 서버 역할과 함께 AG를 사용하는 것은 지원되지 않습니다. 
  
- [새 프런트 엔드 풀에 Always On 가용성 그룹 배포](alwayson-availability-group.md#BKMK_NewPool_CreateAlwaysOnGroup)
    
- [데이터베이스 미러링을 사용하는 기존 풀에 Always On 가용성 그룹 배포](alwayson-availability-group.md#BKMK_MirroredPool_CreateAlwaysOnGroup)
    
- [데이터베이스 미러링을 사용하지 않는 기존 풀에 Always On 가용성 그룹 배포](alwayson-availability-group.md#BKMK_NoHAPool_CreateAlwaysOnGroup)
    
## <a name="deploy-an-always-on-availability-group-on-a-new-front-end-pool"></a>새 프런트 엔드 풀에 Always On 가용성 그룹 배포
<a name="BKMK_NewPool_CreateAlwaysOnGroup"> </a>

1. AG의 일부가 될 모든 데이터베이스 서버에서 장애 조치(failover) 클러스터링 기능을 사용하도록 설정하십시오. 각 서버에서 다음을 실행합니다.
    
   - 서버 관리자를 열고 역할 **및 기능 추가를 클릭합니다.**
    
   - 기능 **선택 상자에** 도달할 때까지 **다음을** 클릭합니다. 여기서 장애 **조치(failover) 클러스터링 확인란을** 선택합니다.
    
   - 장애 **조치(failover) 클러스터링에** 필요한 기능 추가 상자에서 기능 **추가를 클릭합니다.**
    
   - **설치** 를 클릭합니다.
    
2. 클러스터 구성의 유효성을 검사합니다.
    
   - 서버 관리자에서 도구 **메뉴를** 클릭한 다음 장애 **조치(failover) 클러스터 관리자를 클릭합니다.**
    
   - 화면 **오른쪽의** 작업 아래에서 구성 유효성 검사를 **클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터에 추가할 서버를 선택하고 모든 테스트 **실행을 클릭합니다.**
    
   - 요약 **상자에서** 마법사에서 보고하는 오류를 선택합니다. 그런 다음 **완료를** 클릭하여 유효성 검사를 완료합니다.
    
     특히 공유 저장소를 사용하지 않는 경우 마법사에서 여러 경고를 보고할 수 있습니다. 공유 저장소를 사용할 필요는 없습니다. 그러나 오류 메시지가  표시되는 경우 계속하기 전에 이러한 문제를 해결해야 합니다.
    
3. WSFC(Windows Server 장애 조치(Failover) 클러스터)를 생성합니다.
    
   - 장애 조치 클러스터 관리 마법사에서 장애 **조치(failover)** 클러스터 관리를 마우스 오른쪽 단추로 클릭한 다음 클러스터  **만들기를 클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터 이름 및 IP 주소를 추가합니다. 설정의 유효성을 검사하면 다음을 **클릭합니다.**
    
   - 확인페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터를 만든 후 마친 다음을 **클릭합니다.**
    
4. 파일 공유 미러링계를 사용하도록 클러스터 쿼럼 설정을 구성하는 것이 좋습니다. 이렇게 하여 다음 단계를 수행합니다.
    
   - 클러스터 이름을 마우스 오른쪽 단추로 클릭하고 추가 **작업을** 클릭한 다음 클러스터 쿼럼 **설정 구성을 클릭합니다.**
    
   - **쿼럼 구성** 옵션 선택 페이지에서 쿼럼 미러링계 **선택을 클릭합니다.**
    
   - **쿼럼 미러링 목차 선택** 페이지에서 파일 공유 미러링계 **구성을 클릭합니다.**
    
   - 파일 **공유** 미러링 금지 구성 페이지에서 사용할 파일 공유의 경로를 입력하고 다음을 **클릭합니다.**
    
   - **확인** 페이지에서 **다음** 을 클릭합니다.
    
5. 클러스터의 각 서버에서 Configuration Manager에서 AG SQL Server 사용하도록 설정합니다.
    
   - SQL Server 구성 관리자를 엽니다. 화면 왼쪽의 트리에서 SQL Server 서비스를 클릭한 다음 서비스 SQL Server 클릭합니다. 
    
   - 속성 **상자에서** **AlwaysOn 고가용성 탭을** 선택합니다. **AlwaysOn 가용성 그룹 사용 확인란을** 선택합니다. 메시지가 표시 SQL Server 서비스를 다시 시작합니다.
   
6. 비즈니스용 Skype 서버에서 새 토폴로지 만들기 및 게시에 설명된 경우 토폴로지 작성기에서 프런트 엔드 풀을 [만들 수 있습니다.](../../deploy/install/create-and-publish-new-topology.md) 이 경우 AG를 풀의 SQL 저장소로 지정합니다.
    
7. 가용성 그룹을 만드시다.
    
   - 이 SQL Server Management Studio 열고 SQL Server 인스턴스에 연결합니다.
    
   - 개체 탐색기에서 **Always On 고가용성 폴더를 확장합니다.** 가용성 그룹 **폴더를** 마우스 오른쪽 단추로 클릭하고 새 가용성 그룹 **마법사를 클릭합니다.**
    
   - 소개 **페이지가** 나타나면 다음을 **클릭합니다.**
    
   - 가용성 그룹 **이름** 지정 페이지에서 가용성 그룹의 이름을 입력하고 다음을 **클릭합니다.**
    
   - 데이터베이스 선택 페이지에서 AlwaysOn 가용성 그룹에 포함할 데이터베이스를 선택합니다. **다음** 을 클릭합니다.
    
     이 시나리오에서는 지원되지 않는 **ReportServer,** **ReportServerTempDB** 또는 영구 채팅 데이터베이스를 AlwaysOn 가용성 그룹에 포함하지 않습니다. AlwaysOn 가용성 그룹에 다른 모든 비즈니스용 Skype 서버 데이터베이스를 포함할 수 있습니다.
    
   - 복제 데이터베이스 **지정 페이지에서** 복제 데이터베이스 **탭을** 클릭합니다. 그런 다음  복제본 추가 단추를 클릭하고 Windows Server 장애 조치(failover) SQL 노드로 가입한 다른 인스턴스에 연결합니다.
    
   - 각 인스턴스에 대해 자동 장애 **조치(Failover)** 및 **동기** 커밋 옵션을 선택합니다. 읽을 수 있는 보조 **옵션을 선택하지** 않습니다.
    
   - 끝점 **탭을** 클릭하고  포트 번호가 5022로 설정되어 있는지 확인해야 합니다.
    
   - 수신기 **탭을 클릭하고** 가용성 그룹 수신기 **만들기 옵션을** 선택합니다. 이 옵션 아래에 수신기 이름을 입력하고 **포트를** 1433으로 설정합니다(이 옵션에 대해 다른 포트는 지원되지 않습니다).
    
   - **추가를** 클릭한 다음 **IPv4** 주소 상자에서 기본 설정 가상 IP 주소를 입력한 다음 확인을 **클릭합니다.**
    
   - 초기 **데이터** 동기화 선택 페이지에서 전체를 선택하고 복제본에 액세스할 수 있는 폴더를 지정하고 두 복제본에서 사용하는 SQL Server 서비스 계정에 쓰기 권한이 있습니다. **다음** 을 클릭합니다.
    
     이 파일 공유는 데이터베이스를 초기화할 때 일시적으로 사용됩니다. 대규모 데이터베이스를 사용하는 경우 네트워크 대역폭이 데이터베이스 백업의 크기를 수용할 수 없는 경우 수동으로 초기화하는 것이 좋습니다.
    
   - 유효성 검사 페이지에서 모든 유효성 검사가 성공적이면 다음을 **클릭합니다.**
    
   - 요약 **페이지에서** 모든 설정을 확인하고 마친을 클릭합니다.
      
8. 풀 및 AG가 배포된 후 몇 가지 최종 단계를 수행하여 alwaysOn 가용성 그룹의 SQL 복제본에 대한 로그인이 있는지 확인하십시오. 
    
   - 토폴로지 작성기 열기, 기존 배포에서 토폴로지 **다운로드를** 선택한 다음 확인을 **클릭합니다.**
    
   - 비즈니스용 Skype 서버를 확장하고, 토폴로지 및 SQL Server **확장합니다.** 새 AlwaysOn SQL 저장소를 마우스 오른쪽 단추로 클릭하고 속성 **편집을 클릭합니다.**
    
     - 페이지 아래쪽의 SQL Server **FQDN** 상자에서 값을 AG 수신기 FQDN으로 변경합니다.
    
   - 토폴로지를 게시합니다. 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 다음을 **클릭합니다.** 그런 다음 새 토폴로지가 복제될 때까지 몇 분 정도 기다립니다.
    
   - 사용자 SQL Server Management Studio 열고 AG로 이동합니다. 보조 복제본으로 장애 조치(fail over)합니다.
    
   - 비즈니스용 Skype 서버 관리 셸을 열고 다음 cmdlet을 입력하여 이 SQL 로그인을 만들 수 있습니다.
    
   ```powershell
   Install-CsDatabase -Update
   ```

   - 그룹의 각 복제본에 대해 이전 두 단계를 반복합니다(그룹을 보조 복제본으로 장애 조치한 다음  `Install-CsDatabase -Update` 사용).
    
## <a name="deploy-an-always-on-availability-group-on-an-existing-pool-that-uses-database-mirroring"></a>데이터베이스 미러링을 사용하는 기존 풀에 Always On 가용성 그룹 배포
<a name="BKMK_MirroredPool_CreateAlwaysOnGroup"> </a>

> [!NOTE]
> AG로 업그레이드하는 풀이 조직의 중앙 관리 저장소를 호스팅하는 경우 이 풀을 업그레이드하기 전에 먼저 CMS를 다른 풀로 이동해야 합니다. 풀을 Move-CsManagementServer cmdlet을 사용하여 풀을 이동할 수 있습니다. 조직에 다른 풀이 없는 경우 풀을 AG로 업그레이드하기 전에 Standard Edition 서버를 일시적으로 배포하고 CMS를 이 서버로 이동할 수 있습니다. 
  
1. 비즈니스용 Skype 서버 관리 셸을 열고 다음 cmdlet을 입력하여 미러에서 주 노드로 모든 데이터를 장애 조치(fail over)합니다.
    
   ```powershell
   Invoke-CsDatabaseFailover -PoolFqdn <Pool FQDN> -DatabaseType <DatabaseType> -NewPrincipal "Primary"
   ```

    풀의 각 데이터베이스 유형에 대해 이 cmdlet을 반복합니다. 다음 cmdlet을 사용하여 이 풀에 저장된 모든 데이터베이스 유형을 찾을 수 있습니다.
     
   ```powershell
   Get-CsPool -Identity <Pool FQDN>
   ```

2. 토폴로지 작성기를 사용하여 풀에서 데이터베이스 미러링을 제거합니다.
    
   - 토폴로지 작성기를 엽니다. 토폴로지에서 **Enterprise Edition** 프런트 엔드 풀을 확장하고 풀 이름을 마우스 오른쪽 단추로 클릭한 다음 **속성 편집을 클릭합니다.**
    
   - 풀의 각 SQL 저장소 유형에 대해 SQL 저장소 미러링 사용 **확인란의 선택을** 취소합니다.
    
3. 변경된 토폴로지 게시 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 **다음을 클릭합니다.**
    
4. 이 SQL Server Management Studio 미러를 중단합니다.
    
   - 데이터베이스 SQL Server Management Studio 열고 데이터베이스로 이동한 다음 **작업을** 마우스 오른쪽 단추로 클릭한 다음 미러를 **클릭합니다.** 그런 다음 **미러링 제거를 클릭하고** 확인을 **클릭합니다.**
    
   - 풀에서 AG로 변환될 모든 데이터베이스에 대해 이 작업을 반복합니다.
    
5. AG의 일부가 될 모든 데이터베이스 서버에서 장애 조치(failover) 클러스터링 기능을 설정합니다. 각 서버에서 다음을 실행합니다.
    
   - 서버 관리자를 열고 역할 **및 기능 추가를 클릭합니다.**
    
   - 기능 **선택 상자에** 도달할 때까지 **다음을** 클릭합니다. 여기서 장애 **조치(failover) 클러스터링 확인란을** 선택합니다.
    
   - 장애 **조치(failover) 클러스터링에** 필요한 기능 추가 상자에서 기능 **추가를 클릭합니다.**
    
   - **설치** 를 클릭합니다.
    
6. 클러스터 구성의 유효성을 검사합니다.
    
   - 서버 관리자에서 도구 **메뉴를** 클릭한 다음 장애 **조치(failover) 클러스터 관리자를 클릭합니다.**
    
   - 화면 **오른쪽의** 작업 아래에서 구성 유효성 검사를 **클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터에 추가할 서버를 선택하고 모든 테스트 **실행을 클릭합니다.**
    
   - 요약 **상자에서** 마법사에서 보고하는 오류를 선택합니다. 그런 다음 **완료를** 클릭하여 유효성 검사를 완료합니다.
    
     특히 공유 저장소를 사용하지 않는 경우 마법사에서 여러 경고를 보고할 수 있습니다. 공유 저장소를 사용할 필요는 없습니다. 그러나 오류 메시지가  표시되는 경우 계속하기 전에 이러한 문제를 해결해야 합니다.
    
7. Windows Server 장애 조치(failover) 클러스터를 생성합니다.
    
   - 장애 조치 클러스터 관리 마법사에서 장애 **조치(failover)** 클러스터 관리를 마우스 오른쪽 단추로 클릭한 다음 클러스터  **만들기를 클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터 이름 및 IP 주소를 추가합니다. 설정의 유효성을 검사하면 다음을 **클릭합니다.**
    
   - 확인페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터를 만든 후 마친 다음을 **클릭합니다.**
    
8. 파일 공유 미러링계를 사용하도록 클러스터 쿼럼 설정을 구성하는 것이 좋습니다. 이렇게 하여 다음 단계를 수행합니다.
    
   - 클러스터 이름을 마우스 오른쪽 단추로 클릭하고 추가 **작업을** 클릭한 다음 클러스터 쿼럼 **설정 구성을 클릭합니다.**
    
   - **쿼럼 구성** 옵션 선택 페이지에서 쿼럼 미러링계 **선택을 클릭합니다.**
    
   - **쿼럼 미러링 목차 선택** 페이지에서 파일 공유 미러링계 **구성을 클릭합니다.**
    
   - 파일 **공유** 미러링 금지 구성 페이지에서 사용할 파일 공유의 경로를 입력하고 다음을 **클릭합니다.**
    
   - **확인** 페이지에서 **다음** 을 클릭합니다.
    
9. 클러스터의 각 서버에서 Configuration Manager에서 AG SQL Server 사용하도록 설정합니다.
    
   - SQL Server 구성 관리자를 엽니다. 화면 왼쪽의 트리에서 SQL Server 서비스를 클릭한 다음 서비스 SQL Server 클릭합니다. 
    
   - 속성 **상자에서** **AlwaysOn 고가용성 탭을** 선택합니다. **AlwaysOn 가용성 그룹 사용 확인란을** 선택합니다. 메시지가 표시 SQL Server 서비스를 다시 시작합니다.
    
10. 가용성 그룹을 만드시다.
    
    - 이 SQL Server Management Studio 열고 SQL Server 인스턴스에 연결합니다.
    
    - 개체 탐색기에서 **Always On 고가용성 폴더를 확장합니다.** 가용성 그룹 **폴더를** 마우스 오른쪽 단추로 클릭하고 새 가용성 그룹 **마법사를 클릭합니다.**
    
    - 소개 **페이지가** 나타나면 다음을 **클릭합니다.**
    
    - 가용성 그룹 **이름** 지정 페이지에서 가용성 그룹의 이름을 입력하고 다음을 **클릭합니다.**
    
    - 데이터베이스 선택 페이지에서 AlwaysOn 가용성 그룹에 포함할 데이터베이스를 선택합니다. **다음** 을 클릭합니다.
    
    이 시나리오에서는 지원되지 않는 **ReportServer,** **ReportServerTempDB** 또는 영구 채팅 데이터베이스를 AlwaysOn 가용성 그룹에 포함하지 않습니다. AlwaysOn 가용성 그룹에 다른 모든 비즈니스용 Skype 서버 데이터베이스를 포함할 수 있습니다.
    
    - 복제 데이터베이스 **지정 페이지에서** 복제 데이터베이스 **탭을** 클릭합니다. 그런 다음  복제본 추가 단추를 클릭하고 Windows Server 장애 조치(failover) SQL 노드로 가입한 다른 인스턴스에 연결합니다.
    
    - 각 인스턴스에 대해 자동 장애 **조치(Failover)** 및 **동기** 커밋 옵션을 선택합니다. 읽을 수 있는 보조 **옵션을 선택하지** 않습니다.
    
    - 끝점 **탭을** 클릭하고  포트 번호가 5022로 설정되어 있는지 확인해야 합니다.
    
      - 수신기 **탭을 클릭하고** 가용성 그룹 수신기 **만들기 옵션을** 선택합니다. 이 옵션 아래에 수신기 이름을 입력하고 **포트를** 1433으로 설정합니다(이 옵션에 대해 다른 포트는 지원되지 않습니다).
    
    - **추가를** 클릭한 다음 **IPv4** 주소 상자에서 기본 설정 가상 IP 주소를 입력한 다음 확인을 **클릭합니다.**
    
    - 초기 **데이터** 동기화 선택 페이지에서 전체를 선택하고 복제본에 액세스할 수 있는 폴더를 지정하고 두 복제본에서 사용하는 SQL Server 서비스 계정에 쓰기 권한이 있습니다. **다음** 을 클릭합니다.
    
    이 파일 공유는 데이터베이스를 초기화할 때 일시적으로 사용됩니다. 대규모 데이터베이스를 사용하는 경우 네트워크 대역폭이 데이터베이스 백업의 크기를 수용할 수 없는 경우 수동으로 초기화하는 것이 좋습니다.
    
    - 유효성 검사 페이지에서 모든 유효성 검사가 성공적이면 다음을 **클릭합니다.**
    
    - 요약 **페이지에서** 모든 설정을 확인하고 마친을 클릭합니다.
    
11. AG 수신기 및 이전 미러의 주 노드를 AG의 기본 노드로 지정하는 새 저장소를 만들 수 있습니다.
    
    - 토폴로지 작성기를 엽니다. 토폴로지에서 공유 구성 요소를 확장하고 SQL Server 마우스 오른쪽 단추로 클릭한 다음 새 **저장소를 SQL Server 클릭합니다.**
    
    - 새 SQL **저장소** 정의 페이지에서 먼저 고가용성 설정 확인란을 선택한 다음 SQL AlwaysOn 가용성 그룹이 드롭다운 상자에 나타나는지 확인합니다. 
    
    - SQL Server 수신기 FQDN 상자에 가용성 그룹을 만들 때 만든 수신기 **FQDN을** 입력합니다.
    
    - SQL Server **FQDN** 상자에 AG 기본 노드의 FQDN을 입력하고 확인을 **클릭합니다.** 이 저장소는 이 저장소에 대한 이전 미러의 주체입니다.
    
12. 새 AG를 프런트 엔드 풀과 연결합니다.
    
    - 토폴로지 작성기에서 AG에 연결하려면 풀을 마우스 오른쪽 단추로 클릭하고 속성 **편집을 클릭합니다.**
    
    - **연결의** SQL Server **저장소** 상자에서 AG를 선택합니다. 풀에서 AG로 이동할 다른 데이터베이스에 대해 동일한 그룹을 선택합니다.
    
    - 필요한 모든 데이터베이스가 AG로 설정되어 있는지 확인을 **클릭합니다.**
    
13. 토폴로지를 게시합니다. 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 다음을 **클릭합니다.**
    
14. 일부 최종 단계를 수행하여 AlwaysOn 가용성 SQL 복제본에 대해 로그인 로그인이 있는지 확인하십시오.
    
    - 토폴로지 작성기 열기, 기존 배포에서 토폴로지 **다운로드를** 선택한 다음 확인을 **클릭합니다.**
    
    - 비즈니스용 Skype 서버를 확장하고, 토폴로지 및 SQL Server **확장합니다.** 새 AG의 SQL 마우스 오른쪽 단추로 클릭하고 **속성 편집을 클릭합니다.**
    
    - 페이지 아래쪽의 SQL Server **FQDN** 상자에서 값을 AG 수신기 FQDN으로 변경합니다.
    
    - 토폴로지를 게시합니다. 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 다음을 **클릭합니다.** 그런 다음 새 토폴로지가 복제될 때까지 몇 분 정도 기다립니다.
    
    - 사용자 SQL Server Management Studio 열고 AG로 이동합니다. 보조 복제본으로 장애 조치(fail over)합니다.
    
    - 비즈니스용 Skype 서버 관리 셸을 열고 다음 cmdlet을 입력하여 이 SQL 로그인을 만들 수 있습니다.
    
    ```powershell
    Install-CsDatabase -Update
    ```

    - 그룹의 각 복제본에 대해 이전 두 단계를 반복합니다(그룹을 보조 복제본으로 장애 조치한 다음  `Install-CsDatabase -Update` 사용).
    
## <a name="deploy-an-always-on-availability-group-on-an-existing-pool-that-does-not-use-database-mirroring"></a>데이터베이스 미러링을 사용하지 않는 기존 풀에 Always On 가용성 그룹 배포
<a name="BKMK_NoHAPool_CreateAlwaysOnGroup"> </a>

> [!NOTE]
> AG로 업그레이드하는 풀이 조직의 중앙 관리 저장소를 호스팅하는 경우 이 풀을 업그레이드하기 전에 먼저 CMS를 다른 풀로 이동해야 합니다. 풀을 Move-CsManagementServer cmdlet을 사용하여 풀을 이동할 수 있습니다. 조직에 다른 풀이 없는 경우 풀을 AG로 업그레이드하기 전에 Standard Edition 서버를 일시적으로 배포하고 CMS를 이 서버로 이동할 수 있습니다. 
  
1. AG의 일부가 될 모든 데이터베이스 서버에서 장애 조치(failover) 클러스터링 기능을 설정합니다. 각 서버에서 다음을 실행합니다.
    
   - 서버 관리자를 열고 역할 **및 기능 추가를 클릭합니다.**
    
   - 기능 **선택 상자에** 도달할 때까지 **다음을** 클릭합니다. 여기서 장애 **조치(failover) 클러스터링 확인란을** 선택합니다.
    
   - 장애 **조치(failover) 클러스터링에** 필요한 기능 추가 상자에서 기능 **추가를 클릭합니다.**
    
   - **설치** 를 클릭합니다.
    
2. 클러스터 구성의 유효성을 검사합니다.
    
   - 서버 관리자에서 도구 **메뉴를** 클릭한 다음 장애 **조치(failover) 클러스터 관리자를 클릭합니다.**
    
   - 화면 **오른쪽의** 작업 아래에서 구성 유효성 검사를 **클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터에 추가할 서버를 선택하고 모든 테스트 **실행을 클릭합니다.**
    
   - 요약 **상자에서** 마법사에서 보고하는 오류를 선택합니다. 그런 다음 **완료를** 클릭하여 유효성 검사를 완료합니다.
    
     특히 공유 저장소를 사용하지 않는 경우 마법사에서 여러 경고를 보고할 수 있습니다. 공유 저장소를 사용할 필요는 없습니다. 그러나 오류 메시지가  표시되는 경우 계속하기 전에 이러한 문제를 해결해야 합니다.
    
3. WSFC(Windows Server 장애 조치(Failover) 클러스터)를 생성합니다.
    
   - 장애 조치 클러스터 관리 마법사에서 장애 **조치(failover)** 클러스터 관리를 마우스 오른쪽 단추로 클릭한 다음 클러스터  **만들기를 클릭합니다.**
    
   - **시작하기 전에** 페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터 이름 및 IP 주소를 추가합니다. 설정의 유효성을 검사하면 다음을 **클릭합니다.**
    
   - 확인페이지에서 **다음** 을 클릭합니다.
    
   - 클러스터를 만든 후 마친 다음을 **클릭합니다.**
    
4. 파일 공유 미러링계를 사용하도록 클러스터 쿼럼 설정을 구성하는 것이 좋습니다. 이렇게 하여 다음 단계를 수행합니다.
    
   - 클러스터 이름을 마우스 오른쪽 단추로 클릭하고 추가 **작업을** 클릭한 다음 클러스터 쿼럼 **설정 구성을 클릭합니다.**
    
   - **쿼럼 구성** 옵션 선택 페이지에서 쿼럼 미러링계 **선택을 클릭합니다.**
    
   - **쿼럼 미러링 목차 선택** 페이지에서 파일 공유 미러링계 **구성을 클릭합니다.**
    
   - 파일 **공유** 미러링 금지 구성 페이지에서 사용할 파일 공유의 경로를 입력하고 다음을 **클릭합니다.**
    
   - **확인** 페이지에서 **다음** 을 클릭합니다.
    
5. 클러스터의 각 서버에서 Configuration Manager에서 AG를 SQL Server 수 있습니다.
    
   - SQL Server 구성 관리자를 엽니다. 화면 왼쪽의 트리에서 SQL Server 서비스를 클릭한 다음 서비스 SQL Server 클릭합니다. 
    
   - 속성 **상자에서** **AlwaysOn 고가용성 탭을** 선택합니다. **AlwaysOn 가용성 그룹 사용 확인란을** 선택합니다. 메시지가 표시 SQL Server 서비스를 다시 시작합니다.
    
6. 가용성 그룹을 만드시다.
    
   - 이 SQL Server Management Studio 열고 SQL Server 인스턴스에 연결합니다.
    
   - 개체 탐색기에서 **Always On 고가용성 폴더를 확장합니다.** 가용성 그룹 **폴더를** 마우스 오른쪽 단추로 클릭하고 새 가용성 그룹 **마법사를 클릭합니다.**
    
   - 소개 **페이지가** 나타나면 다음을 **클릭합니다.**
    
   - 가용성 그룹 **이름** 지정 페이지에서 가용성 그룹의 이름을 입력하고 다음을 **클릭합니다.**
    
   - 데이터베이스 선택 페이지에서 AG에 포함할 데이터베이스를 선택합니다. **다음** 을 클릭합니다.
    
     이 시나리오에서는 지원되지 않는 **ReportServer,** **ReportServerTempDB** 또는 영구 채팅 데이터베이스를 AG에 포함하지 않습니다. 다른 모든 비즈니스용 Skype 서버 데이터베이스를 AG에 포함할 수 있습니다.
    
   - 복제 데이터베이스 **지정 페이지에서** 복제 데이터베이스 **탭을** 클릭합니다. 그런 다음  복제본 추가 단추를 클릭하고 WSFC의 노드로 SQL 다른 SQL 인스턴스에 연결합니다.
    
   - 각 인스턴스에 대해 자동 장애 **조치(Failover)** 및 **동기** 커밋 옵션을 선택합니다. 읽을 수 있는 보조 **옵션을 선택하지** 않습니다.
    
   - 끝점 **탭을** 클릭하고  포트 번호가 5022로 설정되어 있는지 확인해야 합니다.
    
   - 수신기 **탭을 클릭하고** 가용성 그룹 수신기 **만들기 옵션을** 선택합니다. 이 옵션 아래에 수신기 이름을 입력하고 **포트를** 1433으로 설정합니다(이 옵션에 대해 다른 포트는 지원되지 않습니다).
    
   - **추가를** 클릭한 다음 **IPv4** 주소 상자에서 기본 설정 가상 IP 주소를 입력한 다음 확인을 **클릭합니다.**
    
   - 초기 **데이터** 동기화 선택 페이지에서 전체를 선택하고 복제본에 액세스할 수 있는 폴더를 지정하고 두 복제본에서 사용하는 SQL Server 서비스 계정에 쓰기 권한이 있습니다. **다음** 을 클릭합니다.
    
     이 파일 공유는 데이터베이스를 초기화할 때 일시적으로 사용됩니다. 대규모 데이터베이스를 사용하는 경우 네트워크 대역폭이 데이터베이스 백업의 크기를 수용할 수 없는 경우 수동으로 초기화하는 것이 좋습니다.
    
     - 유효성 검사 페이지에서 모든 유효성 검사가 성공적이면 다음을 **클릭합니다.**
    
   - 요약 **페이지에서** 모든 설정을 확인하고 마친을 클릭합니다.
    
7. AG 수신기 지정을 지정하는 새 저장소를 만들 수 있습니다.
    
   - 토폴로지 작성기를 엽니다. 토폴로지에서 공유 구성 요소를 확장하고 SQL Server 마우스 오른쪽 단추로 클릭한 다음 새 **저장소를 SQL Server 클릭합니다.**
    
   - 새 SQL **저장소** 정의 페이지에서 먼저 고가용성 설정 확인란을 선택한 다음 SQL AlwaysOn 가용성 그룹이 드롭다운 상자에 나타나는지 확인합니다. 
    
   - SQL Server 수신기 FQDN 상자에 가용성 그룹을 만들 때 만든 수신기 **FQDN을** 입력합니다.
    
   - SQL Server **FQDN** 상자에 AG 기본 노드의 FQDN을 입력하고 확인을 **클릭합니다.**
    
8. 새 Always On 가용성 그룹을 프런트 엔드 풀과 연결합니다.
    
   - 토폴로지 작성기에서 AG에 연결하려면 풀을 마우스 오른쪽 단추로 클릭하고 속성 **편집을 클릭합니다.**
    
   - **연결의** SQL Server **저장소** 상자에서 AG를 선택합니다. 풀에서 AG로 이동할 다른 데이터베이스에 대해 동일한 그룹을 선택합니다.
    
   - 필요한 모든 데이터베이스가 AG로 설정되어 있는지 확인을 **클릭합니다.**
    
9. 토폴로지를 게시합니다. 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 다음을 **클릭합니다.**
    
10. AG의 각 복제본에 SQL 마지막 단계를 수행합니다.
    
    - 토폴로지 작성기 열기, 기존 배포에서 토폴로지 **다운로드를** 선택한 다음 확인을 **클릭합니다.**
    
    - 비즈니스용 Skype 서버를 확장하고, 토폴로지 및 SQL Server **확장합니다.** 새 AG의 SQL 마우스 오른쪽 단추로 클릭하고 **속성 편집을 클릭합니다.**
    
    - 페이지 아래쪽의 SQL Server **FQDN** 상자에서 값을 AG 수신기 FQDN으로 변경합니다.
    
    - 토폴로지를 게시합니다. 작업 **메뉴에서** **토폴로지** 및 게시를 **클릭합니다.** 그런 다음 확인 페이지에서 다음을 **클릭합니다.** 그런 다음 새 토폴로지가 복제될 때까지 몇 분 정도 기다립니다.
    
    - 사용자 SQL Server Management Studio 열고 AG로 이동합니다. 보조 복제본으로 장애 조치(fail over)합니다.
    
    - 비즈니스용 Skype 서버 관리 셸을 열고 다음 cmdlet을 입력하여 이 SQL 로그인을 만들 수 있습니다.
    
      ```powershell
      Install-CsDatabase -Update
      ```

      - 그룹의 각 복제본에 대해 이전 두 단계를 반복합니다(그룹을 보조 복제본으로 장애 조치한 다음  `Install-CsDatabase -Update` 사용).
