---
title: 비즈니스용 Skype의 부하 분산 요구 사항
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Admin
ms.custom: ''
ms.assetid: 84489328-64a4-486c-9384-a3e5c8ed9c8b
description: '요약: 비즈니스용 Skype 서버를 구현 하기 전에 부하 분산 고려 사항을 검토 합니다.'
ms.openlocfilehash: 2db9b7aa37f71d445feb3cfd9a09e49f44ca48f0
ms.sourcegitcommit: ab47ff88f51a96aaf8bc99a6303e114d41ca5c2f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/20/2019
ms.locfileid: "36196860"
---
# <a name="load-balancing-requirements-for-skype-for-business"></a><span data-ttu-id="b4dc7-103">비즈니스용 Skype의 부하 분산 요구 사항</span><span class="sxs-lookup"><span data-stu-id="b4dc7-103">Load balancing requirements for Skype for Business</span></span>
 
<span data-ttu-id="b4dc7-104">**요약:** 비즈니스용 Skype 서버를 구현 하기 전에 부하 분산 고려 사항을 검토 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-104">**Summary:** Review the load balancing considerations before implementing Skype for Business Server.</span></span>
  
<span data-ttu-id="b4dc7-105">부하 분산은 풀의 서버 간에 트래픽을 분산 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-105">Load balancing distributes traffic among the servers in a pool.</span></span> <span data-ttu-id="b4dc7-106">프런트 엔드 풀, 중재 서버 풀 또는 Edge 서버 풀을 사용 하는 경우 이러한 풀에 대 한 부하 분산을 배포 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-106">If you have Front End pools, Mediation Server pools, or Edge Server pools, you need to deploy load balancing for these pools.</span></span>
  
<span data-ttu-id="b4dc7-107">비즈니스용 Skype Server는 DNS (Domain Name System) 부하 분산 및 하드웨어 로드 균형 조정 (HLB) 이라는 두 가지 유형의 부하 분산 솔루션을 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-107">Skype for Business Server supports two types of load balancing solutions for client-to-server traffic: Domain Name System (DNS) load balancing and hardware load balancing (often abbreviated as HLB).</span></span> <span data-ttu-id="b4dc7-108">DNS 부하 분산은 간단한 관리, 보다 효율적인 문제 해결, 잠재적인 하드웨어 로드 균형 조정기 문제 로부터 비즈니스용 Skype 서버 트래픽을 최대한 격리 하는 기능 등의 여러 가지 이점을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-108">DNS load balancing offers several advantages including simpler administration, more efficient troubleshooting, and the ability to isolate much of your Skype for Business Server traffic from any potential hardware load balancer problems.</span></span>
  
<span data-ttu-id="b4dc7-109">배포의 각 풀에 적합 한 부하 분산 솔루션을 결정 하지만 다음과 같은 제한 사항에 유의 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-109">Decide for yourself which load balancing solution is appropriate for each pool in your deployment, but keep in mind the following restrictions:</span></span> 
  
- <span data-ttu-id="b4dc7-110">내부 에지 인터페이스와 외부 에지 인터페이스는 같은 유형의 부하 분산을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-110">The internal Edge interface and external Edge interface must use the same type of load balancing.</span></span> <span data-ttu-id="b4dc7-111">한 인터페이스에서 DNS 부하 분산을 사용할 수 없으며, 그 밖의 하드웨어 로드 균형 조정이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-111">You cannot use DNS load balancing on one interface and hardware load balancing on the other.</span></span>
    
- <span data-ttu-id="b4dc7-112">일부 트래픽 유형에는 하드웨어 부하 분산이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-112">Some types of traffic require a hardware load balancer.</span></span> <span data-ttu-id="b4dc7-113">예를 들어 HTTP 트래픽에는 DNS 부하 분산 대신 하드웨어 부하 분산이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-113">For example, HTTP traffic requires a hardware load balancer instead of DNS load balancing.</span></span> <span data-ttu-id="b4dc7-114">DNS 부하 분산이 클라이언트와 서버 간 웹 트래픽에 작동 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-114">DNS load balancing does not work with client-to-server web traffic.</span></span>
    
<span data-ttu-id="b4dc7-115">풀에 대해 DNS 부하 분산을 사용 하도록 선택 했지만 HTTP 트래픽 등의 트래픽에 대 한 하드웨어 로드 균형 조정기도 구현 해야 하는 경우 하드웨어 로드 균형 조정기의 관리가 매우 간소화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-115">If you choose to use DNS load balancing for a pool but still need to implement hardware load balancers for traffic such as HTTP traffic, the administration of the hardware load balancers is greatly simplified.</span></span> <span data-ttu-id="b4dc7-116">예를 들어 하드웨어 부하 분산 장치 구성은 HTTP 및 HTTPS 트래픽만 관리 하 고 다른 모든 프로토콜은 DNS 부하 분산으로 관리 되므로 더 간단 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-116">For example, configuring the hardware load balancer will be simpler as it will only manage the HTTP and HTTPS traffic, while all other protocols will be managed by DNS load balancing.</span></span> <span data-ttu-id="b4dc7-117">자세한 내용은 [DNS 부하 분산](load-balancing.md#BKMK_DNSLoadBalancing)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-117">For details, see [DNS Load Balancing](load-balancing.md#BKMK_DNSLoadBalancing).</span></span> 
  
<span data-ttu-id="b4dc7-118">서버 간 트래픽의 경우 비즈니스용 Skype 서버는 토폴로지 인식 부하 분산을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-118">For server-to-server traffic, Skype for Business Server uses topology-aware load balancing.</span></span> <span data-ttu-id="b4dc7-119">서버는 중앙 관리 저장소에서 게시 된 토폴로지를 읽어 토폴로지에 있는 서버의 Fqdn을 확보 하 고 서버 간에 트래픽을 자동으로 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-119">Servers read the published topology in the Central Management store to obtain the FQDNs of servers in the topology, and automatically distribute the traffic among the servers.</span></span> <span data-ttu-id="b4dc7-120">관리자는 이러한 유형의 부하 분산을 설정 하거나 관리할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-120">Administrators do not need to set up or manage this type of load balancing.</span></span> 
  
<span data-ttu-id="b4dc7-121">DNS 부하 분산을 사용 하는 경우 특정 컴퓨터로의 트래픽을 차단 해야 하는 경우에는 풀 FQDN에서 IP 주소 항목을 제거 하는 것 만으로는 충분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-121">If you use DNS load balancing and you need to block traffic to a specific computer, it is not sufficient to just remove the IP address entries from the Pool FQDN.</span></span> <span data-ttu-id="b4dc7-122">컴퓨터 에서도 DNS 항목을 제거 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-122">You must remove the DNS entry for the computer as well.</span></span> 
  
## <a name="hardware-load-balancer-requirements"></a><span data-ttu-id="b4dc7-123">하드웨어 부하 분산 장치 요구 사항</span><span class="sxs-lookup"><span data-stu-id="b4dc7-123">Hardware load balancer requirements</span></span>

<span data-ttu-id="b4dc7-124">비즈니스용 Skype 서버, 통합 된 Edge 토폴로지가 새 배포의 경우 비즈니스용 Skype 서버 또는 Lync Server를 사용 하는 다른 조직과 기본적으로 페더레이션 하도록 최적화 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-124">The Skype for Business Server scaled consolidated Edge topology is optimized for DNS load balancing for new deployments federating primarily with other organizations using Skype for Business Server or Lync Server.</span></span> <span data-ttu-id="b4dc7-125">다음 시나리오에 대해 높은 가용성을 요구 하는 경우에는 다음과 같은 경우에 대 한 하드웨어 부하 분산 장치를 Edge 서버 풀에 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-125">If high availability is required for any of the following scenarios, a hardware load balancer must be used on Edge Server pools for the following:</span></span> 
  
- <span data-ttu-id="b4dc7-126">Office Communications Server 2007 R2 또는 Office Communications Server 2007를 사용 하는 조직과의 페더레이션</span><span class="sxs-lookup"><span data-stu-id="b4dc7-126">Federation with organizations using Office Communications Server 2007 R2 or Office Communications Server 2007</span></span>
    
- <span data-ttu-id="b4dc7-127">Exchange 2010 SP1 이전에 exchange UM을 사용 하는 원격 사용자 용 exchange UM</span><span class="sxs-lookup"><span data-stu-id="b4dc7-127">Exchange UM for remote users using Exchange UM prior to Exchange 2010 with SP1</span></span>
    
- <span data-ttu-id="b4dc7-128">공용 IM 사용자에 대 한 연결</span><span class="sxs-lookup"><span data-stu-id="b4dc7-128">Connectivity to public IM users</span></span>
    
> [!IMPORTANT]
> <span data-ttu-id="b4dc7-129">한 인터페이스에서 DNS 부하 분산을 사용 하는 것은 불가능 하지만, 하드웨어 부하 분산이 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-129">Using DNS load balancing on one interface and hardware load balancing on the other is not supported.</span></span> <span data-ttu-id="b4dc7-130">둘 다에 대해 인터페이스 또는 DNS 부하 분산에 대해 하드웨어 부하 분산을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-130">You must use hardware load balancing for both interfaces or DNS load balancing for both.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="b4dc7-131">하드웨어 부하 분산 장치를 사용 하는 경우에는 내부 네트워크와의 연결에 대해 배포 된 부하 분산 장치를 구성 하 여 액세스에 지 서비스를 실행 하는 서버와 A/V에 대 한 서비스 소통량만 로드 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-131">If you are using a hardware load balancer, the load balancer deployed for connections with the internal network must be configured to load balance only the traffic to servers running the Access Edge service and the A/V Edge service.</span></span> <span data-ttu-id="b4dc7-132">내부 웹 회의 Edge 서비스 또는 내부 XMPP 프록시 서비스에 대 한 트래픽의 부하 균형을 조정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-132">It cannot load balance the traffic to the internal Web Conferencing Edge service or the internal XMPP Proxy service.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="b4dc7-133">DSR (direct server return) NAT는 비즈니스용 Skype 서버에서 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-133">The direct server return (DSR) NAT is not supported with Skype for Business Server.</span></span> 
  
<span data-ttu-id="b4dc7-134">하드웨어 로드 균형 조정기에서 비즈니스용 Skype Server에 필요한 필수 기능을 지원 하는지 여부를 확인 하려면 비즈니스용 [skype의 인프라](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-134">To determine whether your hardware load balancer supports the necessary features required by Skype for Business Server, see [Infrastructure for Skype for Business](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways).</span></span> 
  
### <a name="hardware-load-balancer-requirements-for-edge-servers-running-the-av-edge-service"></a><span data-ttu-id="b4dc7-135">A/V Edge 서비스를 실행 하는 Edge 서버의 하드웨어 부하 분산 장치 요구 사항</span><span class="sxs-lookup"><span data-stu-id="b4dc7-135">Hardware Load Balancer Requirements for Edge Servers Running the A/V Edge Service</span></span>

<span data-ttu-id="b4dc7-136">다음은 A/V Edge 서비스를 실행 하는 Edge 서버의 하드웨어 부하 분산 장치 요구 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-136">Following are the hardware load balancer requirements for Edge Servers running the A/V Edge service:</span></span>
  
- <span data-ttu-id="b4dc7-137">내부 및 외부 포트 443에 대해 TCP nagling를 해제 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-137">Turn off TCP nagling for both internal and external ports 443.</span></span> <span data-ttu-id="b4dc7-138">Nagling는 여러 개의 작은 패킷을 하나의 대형 패킷으로 결합 하 여 효율적인 전송을 위해 하는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-138">Nagling is the process of combining several small packets into a single, larger packet for more efficient transmission.</span></span>
    
- <span data-ttu-id="b4dc7-139">외부 포트 범위 5만-59999에 대해 TCP nagling을 끄십시오.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-139">Turn off TCP nagling for external port range 50,000 - 59,999.</span></span> 
    
- <span data-ttu-id="b4dc7-140">내부 또는 외부 방화벽에서 NAT를 사용 하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-140">Do not use NAT on the internal or external firewall.</span></span> 
    
- <span data-ttu-id="b4dc7-141">Edge 내부 인터페이스는 Edge 서버 외부 인터페이스와 다른 네트워크에 있어야 하 고 그 사이의 라우팅은 비활성화 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-141">The edge internal interface must be on a different network than the Edge Server external interface and routing between them must be disabled.</span></span> 
    
- <span data-ttu-id="b4dc7-142">A/V Edge 서비스를 실행 하는 Edge 서버의 외부 인터페이스는 공용 라우팅할 수 있는 IP 주소를 사용 해야 하며, 모든 Edge 외부 IP 주소에서 NAT 또는 포트 번역이 없어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-142">The external interface of the Edge Server running the A/V Edge Service must use publicly routable IP addresses and no NAT or port translation on any of the edge external IP addresses.</span></span> 
    
- <span data-ttu-id="b4dc7-143">부하 분산 장치가 클라이언트의 원본 주소를 변경 하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-143">The load balancer must not change the source address of the client.</span></span>
    
### <a name="other-hardware-load-balancer-requirements"></a><span data-ttu-id="b4dc7-144">기타 하드웨어 부하 분산 장치 요구 사항</span><span class="sxs-lookup"><span data-stu-id="b4dc7-144">Other Hardware Load Balancer requirements</span></span>

<span data-ttu-id="b4dc7-145">웹 서비스의 비즈니스용 Skype 서버에서 쿠키 기반 선호도 요구 사항이 대폭 줄어들었습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-145">Cookie-based affinity requirements are greatly reduced in Skype for Business Server for Web services.</span></span> <span data-ttu-id="b4dc7-146">비즈니스용 Skype 서버를 배포 하는 경우 Lync Server 2010 프런트 엔드 서버 또는 프런트 엔드 풀을 유지 하지 않을 경우 쿠키 기반 지 속성이 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-146">If you are deploying Skype for Business Server and will not retain any Lync Server 2010 Front End Servers or Front End pools, you do not need cookie-based persistence.</span></span> <span data-ttu-id="b4dc7-147">그러나 Lync Server 2010 프런트 엔드 서버 또는 프런트 엔드 풀을 일시적으로 또는 영구적으로 유지 하는 경우에는 Lync Server 2010에 대해 배포 하 고 구성 하는 동안에도 쿠키 기반 유지를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-147">However, if you will temporarily or permanently retain any Lync Server 2010 Front End Servers or Front End pools, you still use cookie-based persistence as it is deployed and configured for Lync Server 2010.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="b4dc7-148">**배포에 필요 하지 않은 쿠키 기반 선호도를 사용 하기로 결정 한 경우**, 이렇게 해도 부정적인 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-148">**If you decide to use cookie-based affinity even though your deployment does not require it**, there is no negative impact to doing so.</span></span> 
  
<span data-ttu-id="b4dc7-149">쿠키 기반 선호도를 **사용 하지** 않는 배포에는 다음을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-149">For deployments that **will not use** cookie-based affinity:</span></span>
  
- <span data-ttu-id="b4dc7-150">포트 4443에 대 한 역방향 프록시 게시 규칙에서 **정방향 호스트 헤더** 를 True로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-150">On the reverse proxy publishing rule for port 4443, set **Forward host header** to True.</span></span> <span data-ttu-id="b4dc7-151">이렇게 하면 원래 URL이 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-151">This will ensure that the original URL is forwarded.</span></span>
    
<span data-ttu-id="b4dc7-152">쿠키 기반 선호도를 **사용** 하는 배포의 경우:</span><span class="sxs-lookup"><span data-stu-id="b4dc7-152">For deployments that **will use** cookie-based affinity:</span></span>
  
- <span data-ttu-id="b4dc7-153">포트 4443에 대 한 역방향 프록시 게시 규칙에서 **정방향 호스트 헤더** 를 True로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-153">On the reverse proxy publishing rule for port 4443, set **Forward host header** to True.</span></span> <span data-ttu-id="b4dc7-154">이렇게 하면 원래 URL이 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-154">This will ensure that the original URL is forwarded.</span></span>
    
- <span data-ttu-id="b4dc7-155">하드웨어 부하 분산 장치 쿠키는 httpOnly로 표시 되지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-155">Hardware load balancer cookie MUST NOT be marked httpOnly</span></span>
    
- <span data-ttu-id="b4dc7-156">하드웨어 부하 분산 장치 쿠키에는 만료 시간이 없어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-156">Hardware load balancer cookie MUST NOT have an expiration time</span></span>
    
- <span data-ttu-id="b4dc7-157">하드웨어 부하 분산 장치 쿠키는 **MS-WSMAN** (웹 서비스에서 예상 하는 값 이며 변경할 수 없음)로 명명 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-157">Hardware load balancer cookie MUST be named **MS-WSMAN** (This is the value that the Web services expect, and cannot be changed)</span></span>
    
- <span data-ttu-id="b4dc7-158">동일한 TCP 연결에 대 한 이전 HTTP 응답에서 쿠키를 이미 가져왔는지 여부에 관계 없이 들어오는 HTTP 요청에 쿠키가 없는 모든 HTTP 응답에서 하드웨어 부하 분산 장치 쿠키를 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-158">Hardware load balancer cookie MUST be set in every HTTP response for which the incoming HTTP request did not have a cookie, regardless of whether a previous HTTP response on that same TCP connection had already obtained a cookie.</span></span> <span data-ttu-id="b4dc7-159">부하 분산 장치가 TCP 연결 당 쿠키 삽입이 발생 하도록 최적화 하면 해당 최적화를 사용 하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-159">If the load balancer optimizes cookie insert to only occur once per TCP connection, that optimization MUST NOT be used</span></span>
    
> [!NOTE]
> <span data-ttu-id="b4dc7-160">일반적인 하드웨어 부하 분산 장치 구성에서는 클라이언트 사용 및/또는 응용 프로그램 조작을 통해 세션 상태가 유지 관리 되므로 Lync Server 및 Lync 2013 클라이언트에 적합 한 원본 주소 선호도 및 20 분 TCP 세션 수명을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-160">Typical hardware load balancer configurations use source-address affinity and a 20 min. TCP session lifetime, which is fine for Lync Server and Lync 2013 clients because session state is maintained through client usage and/or and application interaction.</span></span> 
  
<span data-ttu-id="b4dc7-161">모바일 장치를 배포 하는 경우 하드웨어 로드 균형 조정기는 TCP 세션 내에서 개별 요청에 대 한 부하 분산을 수행할 수 있어야 합니다 (즉, 대상 IP 주소를 기반으로 개별 요청의 부하를 분산할 수 있어야 함).</span><span class="sxs-lookup"><span data-stu-id="b4dc7-161">If you are deploying mobile devices, your hardware load balancer must be able to load balance individual request within a TCP session (in effect, you must be able to load balance an individual request based on the target IP address).</span></span>
  
> [!CAUTION]
> <span data-ttu-id="b4dc7-162">모바일 장치를 배포 하는 경우 하드웨어 로드 균형 조정기는 TCP 연결 내의 각 요청에 개별적으로 부하를 분산할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-162">If you are deploying mobile devices, your hardware load balancer must be able to individually load balance each request within a TCP connection.</span></span> <span data-ttu-id="b4dc7-163">최신 Apple iOS 모바일 앱에는 TLS (전송 계층 보안) 버전 1.2이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-163">The latest Apple iOS mobile apps require Transport Layer Security (TLS) version 1.2.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="b4dc7-164">타사 하드웨어 부하 분산 장치에 대 한 자세한 내용은 [비즈니스용 Skype의 인프라](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-164">For details on third party hardware load balancers, see [Infrastructure for Skype for Business](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways).</span></span>  
  
<span data-ttu-id="b4dc7-165">다음은 디렉터 및 프런트 엔드 풀 웹 서비스에 대 한 하드웨어 부하 분산 장치 요구 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-165">Following are the hardware load balancer requirements for Director and Front End pool Web Services:</span></span>
  
- <span data-ttu-id="b4dc7-166">내부 웹 서비스 Vip의 경우 하드웨어 부하 분산 장치에서 Source_addr 지 속성 (내부 포트 80, 443)을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-166">For internal Web Services VIPs, set Source_addr persistence (internal port 80, 443) on the hardware load balancer.</span></span> <span data-ttu-id="b4dc7-167">비즈니스용 Skype 서버의 경우 Source_addr 지 속성은 단일 IP 주소에서 들어오는 여러 연결이 항상 하나의 서버로 전송 되어 세션 상태를 유지 한다는 의미입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-167">For Skype for Business Server, Source_addr persistence means that multiple connections coming from a single IP address are always sent to one server to maintain session state.</span></span>
    
- <span data-ttu-id="b4dc7-168">TCP 유휴 시간 제한 (1800 초)을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-168">Use TCP idle timeout of 1800 seconds.</span></span>
    
- <span data-ttu-id="b4dc7-169">리버스 프록시와 다음 홉 풀의 하드웨어 부하 분산 장치 사이에 있는 방화벽에서 https: 포트 4443에서 트래픽을 허용 하는 규칙을 만듭니다 (역방향 프록시에서 하드웨어 로드 균형 조정기).</span><span class="sxs-lookup"><span data-stu-id="b4dc7-169">On the firewall between the reverse proxy and the next hop pool's hardware load balancer, create a rule to allow https: traffic on port 4443, from the reverse proxy to the hardware load balancer.</span></span> <span data-ttu-id="b4dc7-170">포트 80, 443 및 4443에서 수신 하도록 하드웨어 로드 균형 조정기를 구성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-170">The hardware load balancer must be configured to listen on ports 80, 443, and 4443.</span></span>
    
### <a name="summary-of-hardware-load-balancer-affinity-requirements"></a><span data-ttu-id="b4dc7-171">하드웨어 부하 분산 장치 선호도 요구 사항 요약</span><span class="sxs-lookup"><span data-stu-id="b4dc7-171">Summary of Hardware Load Balancer Affinity Requirements</span></span>

|<span data-ttu-id="b4dc7-172">**클라이언트/사용자 위치**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-172">**Client/user location**</span></span>|<span data-ttu-id="b4dc7-173">**외부 웹 서비스 FQDN 선호도 요구 사항**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-173">**External web services FQDN affinity requirements**</span></span>|<span data-ttu-id="b4dc7-174">**내부 웹 서비스 FQDN 선호도 요구 사항**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-174">**Internal web services FQDN affinity requirements**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="b4dc7-175">Lync Web App (내부 및 외부 사용자)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-175">Lync Web App (internal and external users)</span></span>  <br/> <span data-ttu-id="b4dc7-176">모바일 장치 (내부 및 외부 사용자)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-176">Mobile device (internal and external users)</span></span>  <br/> |<span data-ttu-id="b4dc7-177">선호도 없음</span><span class="sxs-lookup"><span data-stu-id="b4dc7-177">No affinity</span></span>  <br/> |<span data-ttu-id="b4dc7-178">원본 주소 선호도</span><span class="sxs-lookup"><span data-stu-id="b4dc7-178">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="b4dc7-179">Lync Web App (외부 사용자만 해당)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-179">Lync Web App (external users only)</span></span>  <br/> <span data-ttu-id="b4dc7-180">모바일 장치 (내부 및 외부 사용자)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-180">Mobile device (internal and external users)</span></span>  <br/> |<span data-ttu-id="b4dc7-181">선호도 없음</span><span class="sxs-lookup"><span data-stu-id="b4dc7-181">No affinity</span></span>  <br/> |<span data-ttu-id="b4dc7-182">원본 주소 선호도</span><span class="sxs-lookup"><span data-stu-id="b4dc7-182">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="b4dc7-183">Lync Web App (내부 사용자만 해당)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-183">Lync Web App (internal users only)</span></span>  <br/> <span data-ttu-id="b4dc7-184">모바일 장치 (배포 되지 않음)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-184">Mobile device (not deployed)</span></span>  <br/> |<span data-ttu-id="b4dc7-185">선호도 없음</span><span class="sxs-lookup"><span data-stu-id="b4dc7-185">No affinity</span></span>  <br/> |<span data-ttu-id="b4dc7-186">원본 주소 선호도</span><span class="sxs-lookup"><span data-stu-id="b4dc7-186">Source address affinity</span></span>  <br/> |
   
### <a name="port-monitoring-for-hardware-load-balancers"></a><span data-ttu-id="b4dc7-187">하드웨어 부하 분산 장치에 대 한 포트 모니터링</span><span class="sxs-lookup"><span data-stu-id="b4dc7-187">Port Monitoring for Hardware Load Balancers</span></span>

<span data-ttu-id="b4dc7-188">하드웨어 부하 분산 장치에서 포트 모니터링을 정의 하 여 하드웨어 또는 통신 오류로 인해 특정 서비스를 더 이상 사용할 수 없는 경우를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-188">You define port monitoring on the hardware load balancers to determine when specific services are no longer available due to hardware or communications failure.</span></span> <span data-ttu-id="b4dc7-189">예를 들어 프런트 엔드 서버 또는 프런트 엔드 풀에 오류가 발생 하 여 프런트 엔드 서버 서비스 (RTCSRV)가 중지 되는 경우 HLB 모니터링에서 웹 서비스의 트래픽 수신도 중지 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-189">For example, if the Front End Server service (RTCSRV) stops because the Front End Server or Front End pool fails, the HLB monitoring should also stop receiving traffic on the Web Services.</span></span> <span data-ttu-id="b4dc7-190">HLB에서 포트 모니터링을 구현 하 여 다음을 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-190">You implement port monitoring on the HLB to monitor the following:</span></span>
  
<span data-ttu-id="b4dc7-191">**프런트 엔드 서버 사용자 풀-HLB 내부 인터페이스**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-191">**Front End Server User Pool - HLB Internal Interface**</span></span>

|<span data-ttu-id="b4dc7-192">**가상 IP/포트**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-192">**Virtual IP/Port**</span></span>|<span data-ttu-id="b4dc7-193">**노드 포트**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-193">**Node Port**</span></span>|<span data-ttu-id="b4dc7-194">**노드 컴퓨터/모니터**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-194">**Node Machine/Monitor**</span></span>|<span data-ttu-id="b4dc7-195">**지 속성 프로필**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-195">**Persistence Profile**</span></span>|<span data-ttu-id="b4dc7-196">**상속자**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-196">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="b4dc7-197">\<pool\>웹-int_mco_443_vs</span><span class="sxs-lookup"><span data-stu-id="b4dc7-197">\<pool\>web-int_mco_443_vs</span></span>  <br/> <span data-ttu-id="b4dc7-198">443</span><span class="sxs-lookup"><span data-stu-id="b4dc7-198">443</span></span>  <br/> |<span data-ttu-id="b4dc7-199">443</span><span class="sxs-lookup"><span data-stu-id="b4dc7-199">443</span></span>  <br/> |<span data-ttu-id="b4dc7-200">프론트 엔드</span><span class="sxs-lookup"><span data-stu-id="b4dc7-200">Front End</span></span>  <br/> <span data-ttu-id="b4dc7-201">5061</span><span class="sxs-lookup"><span data-stu-id="b4dc7-201">5061</span></span>  <br/> |<span data-ttu-id="b4dc7-202">Source</span><span class="sxs-lookup"><span data-stu-id="b4dc7-202">Source</span></span>  <br/> |<span data-ttu-id="b4dc7-203">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b4dc7-203">HTTPS</span></span>  <br/> |
|<span data-ttu-id="b4dc7-204">\<pool\>웹-int_mco_80_vs</span><span class="sxs-lookup"><span data-stu-id="b4dc7-204">\<pool\>web-int_mco_80_vs</span></span>  <br/> <span data-ttu-id="b4dc7-205">80</span><span class="sxs-lookup"><span data-stu-id="b4dc7-205">80</span></span>  <br/> |<span data-ttu-id="b4dc7-206">80</span><span class="sxs-lookup"><span data-stu-id="b4dc7-206">80</span></span>  <br/> |<span data-ttu-id="b4dc7-207">프론트 엔드</span><span class="sxs-lookup"><span data-stu-id="b4dc7-207">Front End</span></span>  <br/> <span data-ttu-id="b4dc7-208">5061</span><span class="sxs-lookup"><span data-stu-id="b4dc7-208">5061</span></span>  <br/> |<span data-ttu-id="b4dc7-209">Source</span><span class="sxs-lookup"><span data-stu-id="b4dc7-209">Source</span></span>  <br/> |<span data-ttu-id="b4dc7-210">HTTP</span><span class="sxs-lookup"><span data-stu-id="b4dc7-210">HTTP</span></span>  <br/> |
   
<span data-ttu-id="b4dc7-211">**프런트 엔드 서버 사용자 풀-HLB 외부 인터페이스**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-211">**Front End Server User Pool - HLB External Interface**</span></span>

|<span data-ttu-id="b4dc7-212">**가상 IP/포트**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-212">**Virtual IP/Port**</span></span>|<span data-ttu-id="b4dc7-213">**노드 포트**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-213">**Node Port**</span></span>|<span data-ttu-id="b4dc7-214">**노드 컴퓨터/모니터**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-214">**Node Machine/Monitor**</span></span>|<span data-ttu-id="b4dc7-215">**지 속성 프로필**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-215">**Persistence Profile**</span></span>|<span data-ttu-id="b4dc7-216">**상속자**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-216">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="b4dc7-217">\<풀\>web_mco_443_vs</span><span class="sxs-lookup"><span data-stu-id="b4dc7-217">\<pool\>web_mco_443_vs</span></span>  <br/> <span data-ttu-id="b4dc7-218">443</span><span class="sxs-lookup"><span data-stu-id="b4dc7-218">443</span></span>  <br/> |<span data-ttu-id="b4dc7-219">4443</span><span class="sxs-lookup"><span data-stu-id="b4dc7-219">4443</span></span>  <br/> |<span data-ttu-id="b4dc7-220">프론트 엔드</span><span class="sxs-lookup"><span data-stu-id="b4dc7-220">Front End</span></span>  <br/> <span data-ttu-id="b4dc7-221">5061</span><span class="sxs-lookup"><span data-stu-id="b4dc7-221">5061</span></span>  <br/> |<span data-ttu-id="b4dc7-222">없음</span><span class="sxs-lookup"><span data-stu-id="b4dc7-222">None</span></span>  <br/> |<span data-ttu-id="b4dc7-223">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b4dc7-223">HTTPS</span></span>  <br/> |
|<span data-ttu-id="b4dc7-224">\<풀\>web_mco_80_vs</span><span class="sxs-lookup"><span data-stu-id="b4dc7-224">\<pool\>web_mco_80_vs</span></span>  <br/> <span data-ttu-id="b4dc7-225">80</span><span class="sxs-lookup"><span data-stu-id="b4dc7-225">80</span></span>  <br/> |<span data-ttu-id="b4dc7-226">8080</span><span class="sxs-lookup"><span data-stu-id="b4dc7-226">8080</span></span>  <br/> |<span data-ttu-id="b4dc7-227">프론트 엔드</span><span class="sxs-lookup"><span data-stu-id="b4dc7-227">Front End</span></span>  <br/> <span data-ttu-id="b4dc7-228">5061</span><span class="sxs-lookup"><span data-stu-id="b4dc7-228">5061</span></span>  <br/> |<span data-ttu-id="b4dc7-229">없음</span><span class="sxs-lookup"><span data-stu-id="b4dc7-229">None</span></span>  <br/> |<span data-ttu-id="b4dc7-230">HTTP</span><span class="sxs-lookup"><span data-stu-id="b4dc7-230">HTTP</span></span>  <br/> |
   
## <a name="dns-load-balancing"></a><span data-ttu-id="b4dc7-231">DNS 부하 분산</span><span class="sxs-lookup"><span data-stu-id="b4dc7-231">DNS Load Balancing</span></span>
<span data-ttu-id="b4dc7-232"><a name="BKMK_DNSLoadBalancing"> </a></span><span class="sxs-lookup"><span data-stu-id="b4dc7-232"></span></span>

<span data-ttu-id="b4dc7-233">비즈니스용 Skype Server는 네트워크의 부하 분산에 대 한 관리 오버 헤드를 크게 줄일 수 있는 소프트웨어 솔루션인 DNS 부하 분산을 가능 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-233">Skype for Business Server enables DNS load balancing, a software solution that can greatly reduce the administration overhead for load balancing on your network.</span></span> <span data-ttu-id="b4dc7-234">DNS 로드 균형 조정은 SIP 트래픽, 미디어 트래픽 등 비즈니스용 Skype 서버에 고유한 네트워크 소통량의 균형을 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-234">DNS load balancing balances the network traffic that is unique to Skype for Business Server, such as SIP traffic and media traffic.</span></span>
  
<span data-ttu-id="b4dc7-235">DNS 부하 분산을 배포 하는 경우 하드웨어 부하 분산 장치에 대 한 조직의 관리 오버 헤드가 최소화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-235">If you deploy DNS load balancing, your organization's administration overhead for hardware load balancers will be minimized.</span></span> <span data-ttu-id="b4dc7-236">또한 SIP 트래픽에 대 한 부하 분산 장치를 잘못 구성 하는 것과 관련 된 문제에 대 한 복잡 한 문제 해결이 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-236">Additionally, complex troubleshooting of problems related to misconfiguration of load balancers for SIP traffic will be eliminated.</span></span> <span data-ttu-id="b4dc7-237">서버 연결을 방지 하 여 서버를 오프 라인 상태로 만들 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-237">You can also prevent server connections so that you can take servers offline.</span></span> <span data-ttu-id="b4dc7-238">DNS 로드 균형 조정 기능을 사용 하면 하드웨어 로드 균형 조정기 문제가 기본 통화 라우팅과 같은 SIP 트래픽 요소에 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-238">DNS load balancing also ensures that hardware load balancer problems do not affect elements of SIP traffic such as basic call routing.</span></span>

<span data-ttu-id="b4dc7-239">다음 다이어그램에서는 내부 및 외부 DNS 부하 분산을 모두 포함 하는 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-239">The following diagram shows an example that includes both internal and external DNS load balancing:</span></span> 
  
<span data-ttu-id="b4dc7-240">**공용 IPv4 주소를 사용 하는 Edge 네트워크 다이어그램**</span><span class="sxs-lookup"><span data-stu-id="b4dc7-240">**Edge network diagram using Public IPv4 addresses**</span></span>

![DNS 네트워크 다이어그램의 예](../../media/2cc9546e-5560-4d95-8fe4-65a792a0e9c3.png)
  
<span data-ttu-id="b4dc7-242">DNS 부하 분산을 사용 하는 경우 모든 유형의 트래픽에 대해 하드웨어 부하 분산 장치를 사용 하는 것 보다 저렴 한 하드웨어 부하 분산 장치를 구입할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-242">If you use DNS load balancing, you may also be able to purchase lower-cost hardware load balancers than if you used the hardware load balancers for all types of traffic.</span></span> <span data-ttu-id="b4dc7-243">비즈니스용 Skype 서버에서 상호 운용성 자격 증명 테스트를 통과 한 부하 분산 장치를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-243">You should use load balancers that have passed interoperability qualification testing with Skype for Business Server.</span></span> <span data-ttu-id="b4dc7-244">부하 분산 장치 상호 운용성 테스트에 대 한 자세한 내용은 [Lync Server 2010 부하 분산 장치 파트너](https://go.microsoft.com/fwlink/p/?linkId=202452)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-244">For details about load balancer interoperability testing, see [Lync Server 2010 Load Balancer Partners](https://go.microsoft.com/fwlink/p/?linkId=202452).</span></span> <span data-ttu-id="b4dc7-245">비즈니스용 Skype 서버에 적용 되는 콘텐츠입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-245">The content there applies to Skype for Business Server.</span></span>
  
<span data-ttu-id="b4dc7-246">DNS 부하 분산은 프런트 엔드 풀, Edge 서버 풀, 디렉터 풀 및 독립 실행형 중재 서버 풀에 대해 지원 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-246">DNS load balancing is supported for Front End pools, Edge Server pools, Director pools, and stand-alone Mediation Server pools.</span></span>
  
<span data-ttu-id="b4dc7-247">DNS 부하 분산은 일반적으로 응용 프로그램 수준에서 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-247">DNS load balancing is typically implemented at the application level.</span></span> <span data-ttu-id="b4dc7-248">응용 프로그램 (예: 비즈니스용 Skype를 실행 하는 클라이언트)은 DNS A 및 AAAA (IPv6 주소 지정이 사용 되는 경우)에서 풀의 FQDN (정규화 된 도메인 이름)을 기록 하는 IP 주소 중 하나에 연결 하 여 풀의 서버에 연결 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-248">The application (for example, a client running Skype for Business), tries to connect to a server in a pool by connecting to one of the IP addresses returned from the DNS A and AAAA (if IPv6 addressing is used) record query for the pool fully qualified domain name (FQDN).</span></span> 
  
<span data-ttu-id="b4dc7-249">예를 들어 pool01.contoso.com 이라는 풀에 프런트 엔드 서버가 세 개 있는 경우 다음이 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-249">For example, if there are three front end servers in a pool named pool01.contoso.com, the following will happen:</span></span>
  
- <span data-ttu-id="b4dc7-250">Pool01.contoso.com 용 비즈니스용 Skype 쿼리 DNS를 실행 하는 클라이언트입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-250">Clients running Skype for Business query DNS for pool01.contoso.com.</span></span> <span data-ttu-id="b4dc7-251">쿼리는 세 개의 IP 주소를 반환 하 고 다음과 같이 캐시 합니다 (이 순서는 필요 하지 않음).</span><span class="sxs-lookup"><span data-stu-id="b4dc7-251">The query returns three IP addresses and caches them as follows (not necessarily in this order):</span></span>
    
    <span data-ttu-id="b4dc7-252">pool01.contoso.com 192.168.10.90</span><span class="sxs-lookup"><span data-stu-id="b4dc7-252">pool01.contoso.com 192.168.10.90</span></span>
    
    <span data-ttu-id="b4dc7-253">pool01.contoso.com 192.168.10.91</span><span class="sxs-lookup"><span data-stu-id="b4dc7-253">pool01.contoso.com 192.168.10.91</span></span>
    
    <span data-ttu-id="b4dc7-254">pool01.contoso.com 192.168.10.92</span><span class="sxs-lookup"><span data-stu-id="b4dc7-254">pool01.contoso.com 192.168.10.92</span></span>
    
- <span data-ttu-id="b4dc7-255">클라이언트가 IP 주소 중 하나에 대 한 TCP (전송 제어 프로토콜) 연결을 설정 하려고 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-255">The client attempts to establish a Transmission Control Protocol (TCP) connection to one of the IP addresses.</span></span> <span data-ttu-id="b4dc7-256">이 오류가 발생 하면 클라이언트는 캐시에서 다음 IP 주소를 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-256">If that fails, the client tries the next IP address in the cache.</span></span>
    
- <span data-ttu-id="b4dc7-257">TCP 연결이 성공 하면 클라이언트는 pool01.contoso.com의 기본 등록 기관에 연결 하도록 TLS를 협상 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-257">If the TCP connection succeeds, the client negotiates TLS to connect to the primary registrar on pool01.contoso.com.</span></span>
    
- <span data-ttu-id="b4dc7-258">연결에 성공 하지 않고 모든 캐시 된 항목을 시도 하면 사용자는 비즈니스용 Skype 서버를 실행 하는 서버를 현재 사용할 수 없다는 알림을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-258">If the client tries all cached entries without a successful connection, the user is notified that no servers running Skype for Business Server are available at the moment.</span></span>
    
> [!NOTE]
> <span data-ttu-id="b4dc7-259">DNS 기반 부하 분산은 dns를 사용 하 여 풀의 서버에 해당 하는 IP 주소를 서로 다른 순서로 제공 하 여 로드 균형 조정을 가리키는 DNS 라운드 로빈 (DNS RR)과 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-259">DNS-based load balancing is different from DNS round robin (DNS RR) which typically refers to load balancing by relying on DNS to provide a different order of IP addresses corresponding to the servers in a pool.</span></span> <span data-ttu-id="b4dc7-260">일반적으로 DNS RR은 로드 배포만 가능 하지만 장애 조치를 사용 하도록 설정 하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-260">Typically DNS RR only enables load distribution, but does not enable failover.</span></span> <span data-ttu-id="b4dc7-261">예를 들어 DNS A와 AAAA (IPv6 주소 지정을 사용 하는 경우)에 의해 반환 된 하나의 IP 주소에 대 한 연결에 실패 하면 연결이 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-261">For example, if the connection to the one IP address returned by the DNS A and AAAA (if you are using IPv6 addressing) query fails, the connection fails.</span></span> <span data-ttu-id="b4dc7-262">따라서 dns 라운드 로빈 자체는 DNS 기반 부하 분산 보다 안정성이 적습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-262">Therefore, DNS round robin by itself is less reliable than DNS-based load balancing.</span></span> <span data-ttu-id="b4dc7-263">Dns 부하 분산을 함께 사용 하 여 DNS 라운드 로빈을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-263">You can use DNS round robin in conjunction with DNS load balancing.</span></span> 
  
<span data-ttu-id="b4dc7-264">DNS 부하 분산은 다음에 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-264">DNS load balancing is used for the following:</span></span>
  
- <span data-ttu-id="b4dc7-265">서버 간 SIP의 부하 분산을 Edge 서버로</span><span class="sxs-lookup"><span data-stu-id="b4dc7-265">Load balancing server-to-server SIP to the Edge Servers</span></span>
    
- <span data-ttu-id="b4dc7-266">회의 자동 전화 교환, 응답 그룹, 통화 공원 등 통합 커뮤니케이션 응용 프로그램 서비스 (c) 응용 프로그램 로드 균형 조정</span><span class="sxs-lookup"><span data-stu-id="b4dc7-266">Load balancing Unified Communications Application Services (UCAS) applications such as Conferencing Auto Attendant, Response Group, and Call Park</span></span>
    
- <span data-ttu-id="b4dc7-267">다른 항목에 대 한 새 연결을 응용 프로그램으로 방지 ("드레이닝"이 라고도 함)</span><span class="sxs-lookup"><span data-stu-id="b4dc7-267">Preventing new connections to UCAS applications (also known as "draining")</span></span>
    
- <span data-ttu-id="b4dc7-268">클라이언트와 Edge 서버 간의 모든 클라이언트 간 트래픽 부하 분산</span><span class="sxs-lookup"><span data-stu-id="b4dc7-268">Load balancing all client-to-server traffic between clients and Edge Servers</span></span>
    
<span data-ttu-id="b4dc7-269">DNS 부하 분산은 다음에 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-269">DNS load balancing cannot be used for the following:</span></span>
  
- <span data-ttu-id="b4dc7-270">디렉터 또는 프런트 엔드 서버에 대 한 클라이언트 대 서버 웹 트래픽</span><span class="sxs-lookup"><span data-stu-id="b4dc7-270">Client-to-server web traffic to Director or Front End Servers</span></span>
    
<span data-ttu-id="b4dc7-271">DNS 부하 분산 및 페더레이션 트래픽:</span><span class="sxs-lookup"><span data-stu-id="b4dc7-271">DNS load balancing and federated traffic:</span></span>
  
<span data-ttu-id="b4dc7-272">DNS SRV 쿼리에서 여러 DNS 레코드를 반환 하는 경우 액세스에 지 서비스가 항상 가장 낮은 숫자 우선 순위와 가장 높은 숫자 가중치를 사용 하 여 DNS SRV 레코드를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-272">If multiple DNS records are returned by a DNS SRV query, the Access Edge service always picks the DNS SRV record with the lowest numeric priority and highest numeric weight.</span></span> <span data-ttu-id="b4dc7-273">인터넷 엔지니어링 작업 강제 문서 "서비스 위치를 지정 하기 위한 DNS RR (DNS SRV)" [RFC 2782, DNS SRV RR](https://www.ietf.org/rfc/rfc2782.txt) 정의 된 dns srv 레코드가 여러 개 있는 경우 우선 순위를 먼저 사용한 다음 weight를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-273">The Internet Engineering Task Force document "A DNS RR for specifying the location of services (DNS SRV)" [RFC 2782, DNS SRV RR](https://www.ietf.org/rfc/rfc2782.txt) specifies that if there are multiple DNS SRV records defined, priority is first used, then weight.</span></span> <span data-ttu-id="b4dc7-274">예를 들어 DNS SRV 레코드 A의 가중치가 20이 고 우선 순위가 40이 고 DNS SRV 레코드 B의 가중치가 10이 고 우선 순위가 50입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-274">For example DNS SRV record A has a weight of 20 and a priority of 40 and DNS SRV record B has a weight of 10 and priority of 50.</span></span> <span data-ttu-id="b4dc7-275">우선 순위가 40 인 DNS SRV 레코드 A가 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-275">DNS SRV record A with priority 40 will be selected.</span></span> <span data-ttu-id="b4dc7-276">DNS SRV 레코드 선택에는 다음과 같은 규칙이 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-276">The following rules apply to DNS SRV record selection:</span></span>
  
- <span data-ttu-id="b4dc7-277">우선 순위가 가장 먼저 고려 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-277">Priority is considered first.</span></span> <span data-ttu-id="b4dc7-278">클라이언트가 DNS SRV 레코드가 정의한 대상 호스트에 연결 하는 데 사용할 수 있는 가장 낮은 우선 순위로 연결을 시도 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-278">A client MUST attempt to contact the target host defined by the DNS SRV record with the lowest numbered priority it can reach.</span></span> <span data-ttu-id="b4dc7-279">우선 순위가 같은 대상은 weight 필드에 정의 된 순서 대로 시도해 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-279">Targets with the same priority SHOULD be tried in an order defined by the weight field.</span></span>
    
- <span data-ttu-id="b4dc7-280">Weight 필드는 우선 순위가 동일한 항목에 대 한 상대적 가중치를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-280">The weight field specifies a relative weight for entries with the same priority.</span></span> <span data-ttu-id="b4dc7-281">가중치가 클수록 선택 되는 확률을 비례적으로 높일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-281">Larger weights SHOULD be given a proportionately higher probability of being selected.</span></span> <span data-ttu-id="b4dc7-282">DNS 관리자는 수행할 서버 선택이 없는 경우 가중치 0을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-282">DNS administrators SHOULD use Weight 0 when there isn't any server selection to do.</span></span> <span data-ttu-id="b4dc7-283">가중치가 0 보다 큰 레코드가 있는 경우 가중치가 0 인 레코드는 선택할 확률이 매우 낮습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-283">In the presence of records containing weights greater than 0, records with weight 0 should have a very small chance of being selected.</span></span>
    
<span data-ttu-id="b4dc7-284">우선 순위와 가중치가 같은 DNS SRV 레코드가 여러 개 반환 되는 경우 액세스에 지 서비스가 DNS 서버에서 먼저 받은 SRV 레코드를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-284">If multiple DNS SRV records with equal priority and weight are returned, the Access Edge service will select the SRV record that was received first from the DNS server.</span></span>
  
### <a name="dns-load-balancing-on-front-end-pools-and-director-pools"></a><span data-ttu-id="b4dc7-285">프런트 엔드 풀 및 디렉터 풀의 DNS 부하 분산</span><span class="sxs-lookup"><span data-stu-id="b4dc7-285">DNS Load Balancing on Front End Pools and Director Pools</span></span>

<span data-ttu-id="b4dc7-286">프런트 엔드 풀 및 디렉터 풀의 SIP 트래픽에 대 한 DNS 부하 분산을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-286">You can use DNS load balancing for the SIP traffic on Front End pools and Director pools.</span></span> <span data-ttu-id="b4dc7-287">DNS 부하 분산을 배포 하는 경우에도 이러한 풀에 대해 하드웨어 부하 분산 장치를 사용 해야 하지만 클라이언트 간 HTTPS 트래픽에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-287">With DNS load balancing deployed, you still need to also use hardware load balancers for these pools, but only for client-to-server HTTPS traffic.</span></span> <span data-ttu-id="b4dc7-288">하드웨어 로드 균형 조정기는 포트 443 및 80을 통해 클라이언트의 HTTPS 트래픽에 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-288">The hardware load balancer is used for HTTPS traffic from clients over ports 443 and 80.</span></span> 
  
<span data-ttu-id="b4dc7-289">이러한 풀에 대 한 하드웨어 부하 분산 장치가 여전히 필요 하지만, 설정 및 관리는 주로 하드웨어 로드 균형 조정기의 관리자가 익숙한 HTTPS 트래픽에 대 한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-289">Although you still need hardware load balancers for these pools, their setup and administration will be primarily for HTTPS traffic, which the administrators of hardware load balancers are accustomed to.</span></span>
  
#### <a name="dns-load-balancing-and-supporting-older-clients-and-servers"></a><span data-ttu-id="b4dc7-290">DNS 로드 균형 조정 및 이전 클라이언트 및 서버 지원</span><span class="sxs-lookup"><span data-stu-id="b4dc7-290">DNS Load Balancing and Supporting Older Clients and Servers</span></span>

<span data-ttu-id="b4dc7-291">DNS 부하 분산은 비즈니스용 Skype Server 또는 Lync Server 2010, Lync 2013 및 비즈니스용 Skype 클라이언트를 실행 하는 서버에 대해서만 자동 장애 조치를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-291">DNS load balancing supports automatic failover only for servers running Skype for Business Server or Lync Server 2010, and for Lync 2013 and Skype for Business clients.</span></span> <span data-ttu-id="b4dc7-292">이전 버전의 클라이언트와 Office Communications Server는 여전히 DNS 부하 분산을 실행 하는 풀에 연결할 수 있지만 DNS 부하 분산이이를 참조 하는 첫 번째 서버에 연결을 할 수 없는 경우에는 풀의 다른 서버로 장애 조치할 수 없습니다. .</span><span class="sxs-lookup"><span data-stu-id="b4dc7-292">Earlier versions of clients and Office Communications Server can still connect to pools running DNS load balancing, but if they cannot make a connection to the first server that DNS load balancing refers them to, they are unable to fail over to another server in the pool.</span></span> 
  
<span data-ttu-id="b4dc7-293">또한 Exchange UM을 사용 하는 경우에는 최소한의 Exchange 2010 SP1을 사용 하 여 비즈니스용 Skype 서버 DNS 부하 분산에 대 한 지원을 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-293">Additionally, if you are using Exchange UM, you must use a minimum of Exchange 2010 SP1 to get support for Skype for Business Server DNS load balancing.</span></span> <span data-ttu-id="b4dc7-294">이전 버전의 Exchange를 사용 하는 경우 사용자는 다음 Exchange UM 시나리오에 대 한 장애 조치 기능을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-294">If you use an earlier version of Exchange, your users will not have failover capabilities for these Exchange UM scenarios:</span></span>
  
- <span data-ttu-id="b4dc7-295">휴대폰에서 엔터프라이즈 보이스 메일 재생</span><span class="sxs-lookup"><span data-stu-id="b4dc7-295">Playing their Enterprise voicemail on their phone</span></span>
    
- <span data-ttu-id="b4dc7-296">Exchange UM 자동 전화 교환에서 통화 전송</span><span class="sxs-lookup"><span data-stu-id="b4dc7-296">Transferring calls from an Exchange UM Auto Attendant</span></span>
    
<span data-ttu-id="b4dc7-297">다른 모든 Exchange UM 시나리오는 제대로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-297">All other Exchange UM scenarios will work properly.</span></span>
  
#### <a name="deploying-dns-load-balancing-on-front-end-pools-and-director-pools"></a><span data-ttu-id="b4dc7-298">프런트 엔드 풀 및 디렉터 풀에 DNS 부하 분산 배포</span><span class="sxs-lookup"><span data-stu-id="b4dc7-298">Deploying DNS Load Balancing on Front End Pools and Director Pools</span></span>
<span data-ttu-id="b4dc7-299"><a name="BK_FE_Dir"> </a></span><span class="sxs-lookup"><span data-stu-id="b4dc7-299"></span></span>

<span data-ttu-id="b4dc7-300">프런트 엔드 풀 및 디렉터 풀에 DNS 부하 분산을 배포 하려면 Fqdn 및 DNS 레코드를 사용 하 여 몇 가지 추가 단계를 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-300">Deploying DNS load balancing on Front End pools and Director pools requires you to perform a couple of extra steps with FQDNs and DNS records.</span></span>
  
- <span data-ttu-id="b4dc7-301">DNS 부하 분산을 사용 하는 풀에는 DNS 로드 균형 조정 (예: pool01.contoso.com)에서 사용 되는 일반 풀 FQDN과 풀에 있는 서버의 실제 Ip 및 풀의 웹 서비스에 대 한 또 다른 FQDN (다음과 같은 경우)이 포함 되어야 합니다. web01.contoso.com ()로 풀의 가상 IP 주소를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-301">A pool that uses DNS load balancing must have two FQDNs: the regular pool FQDN that is used by DNS load balancing (such as pool01.contoso.com), and resolves to the physical IPs of the servers in the pool, and another FQDN for the pool's Web services (such as web01.contoso.com), which resolves to virtual IP address of the pool.</span></span> 
    
    <span data-ttu-id="b4dc7-302">토폴로지 작성기에서 풀에 대 한 DNS 부하 분산을 배포 하려는 경우 해당 풀의 웹 서비스에 대 한이 추가 FQDN을 만들려면 **내부 웹 서비스 풀 Fqdn 재정의** 확인란을 선택 하 고 fqdn을 입력 하 여 다음 **에 대 한 웹 서비스 url을 지정 합니다. 이 풀** 페이지</span><span class="sxs-lookup"><span data-stu-id="b4dc7-302">In Topology Builder, if you want to deploy DNS load balancing for a pool, to create this extra FQDN for the pool's Web services you must select the **Override internal Web Services pool FQDN** check box and type the FQDN, in the **Specify the Web Services URLs for this Pool** page.</span></span>
    
- <span data-ttu-id="b4dc7-303">DNS 부하 분산에 사용 되는 FQDN을 지원 하려면 DNS를 프로 비전 하 여 풀의 모든 서버 (예: 192.168.1.1, 192.168.1.2 등)의 IP 주소에 대 한 풀 FQDN (pool01.contoso.com)을 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-303">To support the FQDN used by DNS load balancing, you must provision DNS to resolve the pool FQDN (such as pool01.contoso.com) to the IP addresses of all the servers in the pool (for example, 192.168.1.1, 192.168.1.2, and so on).</span></span> <span data-ttu-id="b4dc7-304">현재 배포 된 서버의 IP 주소만 포함 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-304">You should include only the IP addresses of servers that are currently deployed.</span></span>
    
    > [!CAUTION]
    > <span data-ttu-id="b4dc7-305">프런트 엔드 풀 또는 프런트 엔드 서버를 두 개 이상 사용 하는 경우에는 외부 웹 서비스 FQDN이 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-305">If you have more than one Front End pool or Front End Server the external Web services FQDN must be unique.</span></span> <span data-ttu-id="b4dc7-306">예를 들어 프런트 엔드 서버의 외부 웹 서비스 FQDN을 **pool01.contoso.com**로 정의 하는 경우 다른 프런트 엔드 풀 또는 프런트 엔드 서버에 대해 **pool01.contoso.com** 를 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-306">For example, if you define the external Web services FQDN of a Front End Server as **pool01.contoso.com**, you cannot use **pool01.contoso.com** for another Front End pool or Front End Server.</span></span> <span data-ttu-id="b4dc7-307">디렉터를 배포 하는 경우 모든 디렉터 또는 디렉터 풀에 대해 정의 된 외부 웹 서비스 FQDN은 모든 프론트 엔드 풀 또는 프런트 엔드 서버 뿐만 아니라 다른 모든 디렉터 또는 디렉터 풀에서 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-307">If you are also deploying Directors, the external Web services FQDN defined for any Director or Director pool must be unique from any other Director or Director pool as well as any Front End pool or Front End Server.</span></span> <span data-ttu-id="b4dc7-308">내부 웹 서비스를 자체 정의 FQDN으로 재정의 하기로 결정 한 경우 각 FQDN은 다른 프런트 엔드 풀, 디렉터 또는 디렉터 풀에서 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-308">If decide to override the Internal web services with a self-defined FQDN, each FQDN must be unique from any other Front End pool, Director or a Director pool.</span></span>
  
### <a name="dns-load-balancing-on-edge-server-pools"></a><span data-ttu-id="b4dc7-309">Edge 서버 풀의 DNS 부하 분산</span><span class="sxs-lookup"><span data-stu-id="b4dc7-309">DNS Load Balancing on Edge Server Pools</span></span>
<span data-ttu-id="b4dc7-310"><a name="BK_Edge"> </a></span><span class="sxs-lookup"><span data-stu-id="b4dc7-310"></span></span>

<span data-ttu-id="b4dc7-311">Edge 서버 풀에 DNS 부하 분산을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-311">You can deploy DNS load balancing on Edge Server pools.</span></span> <span data-ttu-id="b4dc7-312">이렇게 하는 경우 몇 가지 사항을 고려해 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-312">If you do, you must be aware of some considerations.</span></span>
  
<span data-ttu-id="b4dc7-313">Edge 서버에서 DNS 부하 분산을 사용 하면 다음과 같은 경우 장애 조치 (failover) 기능이 손실 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-313">Using DNS load balancing on your Edge Servers causes a loss of failover ability in the following scenarios:</span></span>
  
- <span data-ttu-id="b4dc7-314">Lync Server 2010 이전에 출시 된 비즈니스용 Skype Server 버전을 실행 하는 조직이 있는 페더레이션</span><span class="sxs-lookup"><span data-stu-id="b4dc7-314">Federation with organizations that are running versions of Skype for Business Server released prior to Lync Server 2010.</span></span>
    
- <span data-ttu-id="b4dc7-315">IM (공용 인스턴트 메시징) 서비스 AOL 및 Yahoo!의 사용자와의 인스턴트 메시지 교환, 현재 Google 대화 등의 XMPP 기반 공급자 및 서버 외에도 지원 되는 XMPP 파트너만 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-315">Instant message exchange with users of public instant messaging (IM) services AOL and Yahoo!, in addition to XMPP-based providers and servers, such as Google Talk, currently the only supported XMPP partner.</span></span>
    
<span data-ttu-id="b4dc7-316">이러한 시나리오는 풀의 모든 Edge 서버가 작동 중이 고 실행 되지만 Edge 서버를 사용할 수 없는 경우에는 다른 Edge 서버로 라우팅 하는 대신이 시나리오에 대해 보내는 모든 요청이 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-316">These scenarios will work as long as all Edge Servers in the pool are up and running, but if one Edge Server is unavailable, any requests for these scenarios that are sent to it will fail, instead of routing to another Edge Server.</span></span>
  
 <span data-ttu-id="b4dc7-317">Exchange UM을 사용 하는 경우 최소 Exchange 2013를 사용 하 여 Edge의 비즈니스용 Skype 서버 DNS 부하 분산을 지원 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-317">If you are using Exchange UM, you must use a minimum of Exchange 2013 to get support for Skype for Business Server DNS load balancing on Edge.</span></span> <span data-ttu-id="b4dc7-318">이전 버전의 Exchange를 사용 하는 경우 원격 사용자에 게 이러한 Exchange UM 시나리오에 대 한 장애 조치 기능이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-318">If you use an earlier version of Exchange, your remote users will not have failover capabilities for these Exchange UM scenarios:</span></span>
  
- <span data-ttu-id="b4dc7-319">휴대폰에서 엔터프라이즈 보이스 메일 재생</span><span class="sxs-lookup"><span data-stu-id="b4dc7-319">Playing their Enterprise voicemail on their phone</span></span>
    
- <span data-ttu-id="b4dc7-320">Exchange UM 자동 전화 교환에서 통화 전송</span><span class="sxs-lookup"><span data-stu-id="b4dc7-320">Transferring calls from an Exchange UM Auto Attendant</span></span>
    
<span data-ttu-id="b4dc7-321">다른 모든 Exchange UM 시나리오는 제대로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-321">All other Exchange UM scenarios will work properly.</span></span>
  
<span data-ttu-id="b4dc7-322">내부 에지 인터페이스와 외부 에지 인터페이스는 같은 유형의 부하 분산을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-322">The internal Edge interface and external Edge interface must use the same type of load balancing.</span></span> <span data-ttu-id="b4dc7-323">즉, 한 에지 인터페이스에서는 DNS 부하 분산을 사용하고 다른 에지 인터페이스에서는 하드웨어 부하 분산을 사용할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-323">You cannot use DNS load balancing on one Edge interface and hardware load balancing on the other Edge interface.</span></span>
  
#### <a name="deploying-dns-load-balancing-on-edge-server-pools"></a><span data-ttu-id="b4dc7-324">Edge 서버 풀에 DNS 부하 분산 배포</span><span class="sxs-lookup"><span data-stu-id="b4dc7-324">Deploying DNS Load Balancing on Edge Server Pools</span></span>

<span data-ttu-id="b4dc7-325">Edge 서버 풀의 외부 인터페이스에 DNS 부하 분산을 배포 하려면 다음 DNS 항목이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-325">To deploy DNS load balancing on the external interface of your Edge Server pool, you need the following DNS entries:</span></span>
  
- <span data-ttu-id="b4dc7-326">액세스에 지 서비스의 경우 풀의 각 서버에 대해 하나의 항목이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-326">For the Access Edge service, you need one entry for each server in the pool.</span></span> <span data-ttu-id="b4dc7-327">각 항목은 액세스 경계 서비스의 FQDN (예: sip.contoso.com)을 풀의 Edge 서버 중 하나에 있는 액세스에 지 서비스의 IP 주소로 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-327">Each entry must resolve the FQDN of the Access Edge service (for example, sip.contoso.com) to the IP address of the Access Edge service on one of the Edge Servers in the pool.</span></span>
    
- <span data-ttu-id="b4dc7-328">웹 회의에 지 서비스의 경우 풀의 각 서버에 대해 하나의 항목이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-328">For the Web Conferencing Edge service, you need one entry for each server in the pool.</span></span> <span data-ttu-id="b4dc7-329">각 항목은 웹 회의 경계 서비스의 FQDN (예: webconf.contoso.com)을 풀의 Edge 서버 중 하나에서 웹 회의에 지 서비스의 IP 주소로 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-329">Each entry must resolve the FQDN of the Web Conferencing Edge service (for example, webconf.contoso.com) to the IP address of the Web Conferencing Edge service on one of the Edge Servers in the pool.</span></span>
    
- <span data-ttu-id="b4dc7-330">오디오/비디오에 지 서비스의 경우 풀의 각 서버에 대해 하나의 항목이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-330">For the Audio/Video Edge service, you need one entry for each server in the pool.</span></span> <span data-ttu-id="b4dc7-331">각 항목은 오디오/비디오에 지 서비스의 FQDN (예: av.contoso.com)을 풀의 Edge 서버 중 하나에서 A/V Edge 서비스의 IP 주소로 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-331">Each entry must resolve the FQDN of the Audio/Video Edge service (for example, av.contoso.com) to the IP address of the A/V Edge service on one of the Edge Servers in the pool.</span></span>
    
<span data-ttu-id="b4dc7-332">Edge 서버 풀의 내부 인터페이스에 DNS 부하 분산을 배포 하려면 Edge 서버 풀의 내부 FQDN을 풀에 있는 각 서버의 IP 주소로 확인 하는 하나의 DNS 레코드를 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-332">To deploy DNS load balancing on the internal interface of your Edge Server pool, you must add one DNS A record, which resolves the internal FQDN of the Edge Server pool to the IP address of each server in the pool.</span></span>
  
### <a name="using-dns-load-balancing-on-mediation-server-pools"></a><span data-ttu-id="b4dc7-333">중재 서버 풀에서 DNS 부하 분산 사용</span><span class="sxs-lookup"><span data-stu-id="b4dc7-333">Using DNS Load Balancing on Mediation Server Pools</span></span>
<span data-ttu-id="b4dc7-334"><a name="BK_Mediation"> </a></span><span class="sxs-lookup"><span data-stu-id="b4dc7-334"></span></span>

<span data-ttu-id="b4dc7-335">독립 실행형 중재 서버 풀에서 DNS 부하 분산을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-335">You can use DNS load balancing on stand-alone Mediation Server pools.</span></span> <span data-ttu-id="b4dc7-336">모든 SIP 및 미디어 트래픽은 DNS 부하 분산에 의해 조정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-336">All SIP and media traffic is balanced by DNS load balancing.</span></span>
  
<span data-ttu-id="b4dc7-337">중재 서버 풀에 DNS 부하 분산을 배포 하려면 DNS를 프로 비전 하 여 풀의 모든 서버 (예: 192.168.1.1, 192.168.1.2 등)의 IP 주소에 대해 mediationpool1.contoso.com를 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-337">To deploy DNS load balancing on a Mediation Server pool, you must provision DNS to resolve the pool FQDN (for example, mediationpool1.contoso.com) to the IP addresses of all the servers in the pool (for example, 192.168.1.1, 192.168.1.2, and so on).</span></span>
  
### <a name="blocking-traffic-to-a-server-with-dns-load-balancing"></a><span data-ttu-id="b4dc7-338">DNS 부하 분산을 사용 하 여 서버로 트래픽 차단</span><span class="sxs-lookup"><span data-stu-id="b4dc7-338">Blocking Traffic to a Server With DNS Load Balancing</span></span>
<span data-ttu-id="b4dc7-339"><a name="BK_Mediation"> </a></span><span class="sxs-lookup"><span data-stu-id="b4dc7-339"></span></span>

<span data-ttu-id="b4dc7-340">DNS 부하 분산을 사용 하는 경우 특정 컴퓨터로의 트래픽을 차단 해야 하는 경우에는 풀 FQDN에서 IP 주소 항목을 제거 하는 것 만으로는 충분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-340">If you use DNS load balancing and you need to block traffic to a specific computer, it is not sufficient to just remove the IP address entries from the Pool FQDN.</span></span> <span data-ttu-id="b4dc7-341">컴퓨터 에서도 DNS 항목을 제거 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-341">You must remove the DNS entry for the computer as well.</span></span> 
  
<span data-ttu-id="b4dc7-342">서버 간 트래픽에 대해 비즈니스용 Skype 서버는 토폴로지 인식 부하 분산을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-342">Note that for server-to-server traffic, Skype for Business Server uses topology-aware load balancing.</span></span> <span data-ttu-id="b4dc7-343">서버는 중앙 관리 저장소에서 게시 된 토폴로지를 읽어 토폴로지에 있는 서버의 Fqdn을 확보 하 고 서버 간에 트래픽을 자동으로 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-343">Servers read the published topology in the Central Management store to obtain the FQDNs of servers in the topology, and automatically distribute the traffic among the servers.</span></span> <span data-ttu-id="b4dc7-344">서버에서 서버 간 트래픽을 받지 못하도록 차단 하려면 토폴로지에서 서버를 제거 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b4dc7-344">To block a server from receiving server-to-server traffic, you must remove the server from the topology.</span></span> 
  

