---
title: CQD(통화 품질 대시보드)에서 테넌트 업로드 및 데이터 빌드
author: CarolynRowe
ms.author: crowe
manager: serdars
ms.reviewer: mikedav, siunies, gageames
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
ms.collection:
- M365-voice
search.appverid: MET150
audience: Admin
appliesto:
- Skype for Business
- Microsoft Teams
ms.localizationpriority: medium
f1.keywords:
- NOCSH
ms.custom:
- Reporting
- seo-marvel-apr2020
description: CQD(통화 품질 대시보드)에서 테넌트 업로드 및 데이터 빌드 방법을 알아봅니다.
ms.openlocfilehash: d9559490aa990f3df800e0e9438810c63d153d3c
ms.sourcegitcommit: 0dda332951df3b946097d90a4923eb191fd86b4c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/14/2022
ms.locfileid: "66789643"
---
# <a name="upload-tenant-and-building-data-in-call-quality-dashboard-cqd"></a>CQD(통화 품질 대시보드)에서 테넌트 업로드 및 데이터 빌드


CQD(통화 품질 대시보드)를 최대한 활용하려면 테넌트 및 빌드 데이터를 업로드하는 것이 좋습니다. 2가지 유형의 테넌트 데이터 파일인 [빌드](#upload-building-data-file) 및 [엔드포인트가](#endpoint-data-file) 있습니다.

여기서 샘플 테넌트 데이터 템플릿을 다운로드할 수 [있습니다](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/locations-template.zip?raw=true). 매핑 빌드에 대한 도움말은 [CQD용 건물 맵 만들기를](CQD-building-mapping.md) 참조하세요.

CQD 요약 보고서 대시보드의 CQD **설정** 메뉴(CQD 맨 위에 있는 기어 아이콘)에서 **테넌트 데이터 업로드** 를 선택합니다. 여기에서 관리자는 IP 주소 및 지리적 정보 매핑, 각 무선 액세스 지점 및 MAC 주소 매핑 등 조직의 건물 및 엔드포인트 정보를 업로드할 수 있습니다.

1. Teams 관리 센터 또는 그 위치에서 [https://cqd.teams.microsoft.com](https://cqd.teams.microsoft.com)CQD를 연 다음 오른쪽 위 모서리에 있는 기어 아이콘을 선택하고 **요약 보고서** 페이지에서 **테넌트 데이터 업로드** 를 선택합니다.

   ![데이터를 업로드하는 동안 표시되는 대화 상자의 스크린샷.](media/qerguide-image-tenantdataupload.png)
    
2. 또는 CQD를 처음 방문하는 경우 빌드 데이터를 업로드하라는 메시지가 표시됩니다. **지금 업로드** 를 선택하여 **테넌트 데이터 업로드** 페이지로 빠르게 이동할 수 있습니다.

   ![빌드 데이터를 업로드하도록 사용자에게 알리는 배너의 스크린샷.](media/qerguide-image-buildingdatauploadbanner.png)

3. **테넌트 데이터 업로드** 페이지에서 **찾아보기를** 선택하여 데이터 파일을 선택합니다.

4. 데이터 파일을 선택한 후 **시작 날짜를** 지정하고 필요에 따라 종료 날짜를 지정합니다.

5. **시작 날짜를** 선택한 후 **업로드** 를 선택하여 CQD에 파일을 업로드합니다. <br><br>파일이 업로드되기 전에 유효성이 검사됩니다. 유효성 검사가 실패하면 파일 수정을 요청하는 오류 메시지가 표시됩니다. 다음 그림에서는 데이터 파일의 열 수가 올바르지 않은 경우 발생하는 오류를 보여 줍니다.

   ![건물 데이터 업로드 오류를 표시하는 대화 상자의 예입니다.](media/qerguide-image-buildingdatauploaderror.png)
 
6. 유효성 검사 중에 오류가 발생하지 않으면 파일 업로드가 성공합니다. 그런 다음 **내 업로드** 테이블에서 업로드된 데이터 파일을 볼 수 있습니다. 그러면 해당 페이지 아래쪽에 있는 현재 테넌트에 대해 업로드된 모든 파일의 전체 목록이 표시됩니다.

> [!NOTE]
> 건물 파일 처리를 완료하는 데 최대 4시간이 걸릴 수 있습니다. <br><br> 건물 파일을 이미 업로드했고 누락되거나 제외되었을 수 있는 서브넷을 추가해야 하는 경우 새 서브넷을 추가하여 원래 파일을 수정하고, 현재 파일을 제거하고, 새로 편집한 파일을 다시 업로드합니다. CQD에는 활성 빌드 데이터 파일이 하나만 있을 수 있습니다. 


## <a name="upload-building-data-file"></a>빌드 데이터 파일 업로드

CQD에서 테넌트 데이터 파일의 첫 번째 형식은 **빌드** 데이터 파일입니다. 서브넷 열은 Network+NetworkRange 열을 확장한 다음 서브넷 열을 호출 레코드의 첫 번째 서브넷 또는 두 번째 서브넷 열에 조인하여 건물, 도시, 국가 또는 지역 정보를 표시하여 파생됩니다. 업로드하기 전에 유효성 검사를 통과하려면 업로드하는 데이터 파일의 형식이 다음 조건을 충족해야 합니다.
  
- 파일은 .tsv 파일(열은 TAB으로 구분됨) 또는 .csv 파일(열은 쉼표로 구분됨)이어야 합니다.

- 데이터 파일에는 테이블 머리글 행이 포함되지 않습니다. 데이터 파일의 첫 번째 줄은 "Network"와 같은 헤더 레이블이 아니라 실제 데이터여야 합니다.

- 파일의 데이터 형식은 String, Integer 또는 Boolean일 수 있습니다. 정수 데이터 형식의 경우 값은 숫자 값이어야 합니다. 부울 값은 0 또는 1이어야 합니다.

- 열에서 문자열 데이터 형식을 사용하는 경우 데이터 필드는 비어 있을 수 있지만 여전히 탭 또는 쉼표로 구분해야 합니다. 빈 데이터 필드는 빈 문자열 값만 할당합니다.

- 테넌트 데이터 파일당 1,000,000개의 확장된 행 제한이 있습니다.

- 각 행에 대해 15개의 열이 있어야 하고, 각 열에는 적절한 데이터 형식이 있어야 하며, 열은 다음 표에 나열된 순서(쉼표 또는 탭으로 구분됨)에 있어야 합니다.

  **데이터 파일 형식 빌드**
  
  | 열 이름        | 데이터 형식 | 예제                   | 지침              |
  |--------------------|-----------|---------------------------|-----------------------|
  | NetworkIP          | 문자열    | 192.168.1.0               | 필수              |
  | NetworkName        | 문자열    | 미국/시애틀/시애틀-시-1 | 필수<sup>1</sup>  |
  | NetworkRange       | 수    | 26                        | 필수              |
  | BuildingName       | 문자열    | 시애틀-시-1             | 필수<sup>1</sup>  |
  | OwnershipType      | 문자열    | Contoso                   | 선택              |
  | BuildingType       | 문자열    | IT 종료            | 선택              |
  | BuildingOfficeType | 문자열    | 엔지니어링               | 선택              |
  | 도시               | 문자열    | 시애틀                   | 권장           |
  | 우편 번호            | 문자열    | 98001                     | 권장           |
  | 국가            | 문자열    | 우리                        | 권장           |
  | 상태              | 문자열    | 워싱턴                        | 권장           |
  | 지역             | 문자열    | MSUS                      | 권장           |
  | InsideCorp<sup>2</sup>         | Bool      | 1             | 필수              |
  | ExpressRoute<sup>3</sup>       | Bool      | 0             | 필수              |
  | VPN                | Bool      | 0                         | 선택              |

  <sup>1</sup> CQD에서는 필요하지 않지만 빌드 및 네트워크 이름을 표시하도록 템플릿이 구성됩니다.

  <sup>2</sup> 이 설정은 서브넷이 회사 네트워크 내에 있는지 여부를 반영하는 데 사용할 수 있습니다. 다른 용도로 사용량을 사용자 지정할 수 있습니다.

  <sup>3</sup> 이 설정은 네트워크에서 Azure ExpressRoute를 사용하는지 여부를 반영하는 데 사용할 수 있습니다. 다른 용도로 사용량을 사용자 지정할 수 있습니다.  

  **샘플 행:**

  `192.168.1.0,USA/Seattle/SEATTLE-SEA-1,26,SEATTLE-SEA-1,Contoso,IT Termination,Engineering,Seattle,98001,US,WA,MSUS,1,0,0`

> [!IMPORTANT]
> 네트워크 범위를 사용하여 슈퍼넷(단일 라우팅 접두사로 여러 서브넷의 조합)을 나타낼 수 있습니다. 모든 새 건물 업로드는 겹치는 범위에 대해 확인됩니다. 이전에 건물 파일을 업로드한 경우 현재 파일을 다운로드하고 다시 업로드하여 겹침을 식별하고 문제를 해결한 후 다시 업로드해야 합니다. 이전에 업로드한 파일이 겹치면 보고서의 건물에 서브넷이 잘못 매핑될 수 있습니다. 특정 VPN 구현은 서브넷 정보를 정확하게 보고하지 않습니다. 
>
> VPN 열은 선택 사항이며 기본값은 0입니다. VPN 열의 값을 1로 설정하면 해당 행으로 표시되는 서브넷이 서브넷 내의 모든 IP 주소와 일치하도록 완전히 확장됩니다. 이러한 서브넷을 완전히 확장하면 데이터 빌드와 관련된 쿼리 시간에 부정적인 영향을 주기 때문에 VPN 서브넷에만 이 작업을 아끼고 사용해야 합니다. 서브넷의 확장으로 인해 확장 행 제한이 1,000,000을 초과하면 건물 파일이 허용되지 않습니다.


### <a name="supernetting"></a>슈퍼넷

각 서브넷을 정의하는 대신 일반적으로 CIDR(클래스리스 Inter-Domain 라우팅)이라고 하는 슈퍼넷을 사용할 수 있습니다. *슈퍼넷* 은 단일 라우팅 접두사 공유 여러 서브넷의 조합입니다. 각 서브넷에 대한 항목을 추가하는 대신, 대체된 주소를 사용할 수 있습니다. 슈퍼넷은 지원되지만 사용하지 않는 것이 좋습니다.

예를 들어 Contoso의 마케팅 건물은 아래 서브넷으로 구성됩니다.

-   10.1.0.0/24 - 1층
-   10.1.1.0/24 - 2층
-   10.1.2.0/24 - 3층
-   10.1.3.0/24 - 4층

각 서브넷에 대한 항목을 추가하는 대신, 이 예제에서 10.1.0.0/22의 상위 주소(10.1.0.0/22)를 사용할 수 있습니다.

-   네트워크 = 10.1.0.0
-   네트워크 범위 = 22

슈퍼넷을 구현하기 전에 고려해야 할 몇 가지 사항은 다음과 같습니다.

-   슈퍼넷은 8비트에서 28비트 마스크로 서브넷 매핑에만 사용할 수 있습니다.

-   슈퍼넷을 미리 설정하는 데는 시간이 덜 걸리지만 데이터의 풍부도를 줄이는 데 드는 비용이 발생합니다. 서브넷 10.1.2.0과 관련된 품질 문제가 있다고 가정해 보겠습니다. 슈퍼넷을 구현한 경우 빌드에서 서브넷이 어디에 있는지 또는 네트워크 유형(예: 랩)을 알 수 없습니다. 건물에 대한 모든 서브넷을 정의하고 바닥 위치 정보를 업로드한 경우 해당 구별을 볼 수 있습니다.

-   대체된 주소가 올바르고 원치 않는 서브넷을 catch하지 않는지 확인하는 것이 중요합니다.

-   데이터에서 192.168.0.0을 찾는 것은 매우 일반적입니다. 많은 조직의 경우 사용자가 집에 있음을 나타냅니다. 다른 사용자의 경우 위성 사무실의 IP 주소 구성표입니다. 조직에 이 구성을 사용하는 사무실이 있는 경우 [공통 서브넷](quality-of-experience-review-guide.md#common-subnets)을 사용하여 가정 네트워크와 내부 네트워크를 구별하기 어렵기 때문에 건물 파일에 포함하지 마세요. 

> [!IMPORTANT]
> 네트워크 범위를 사용하여 슈퍼넷을 나타낼 수 있습니다. 모든 새 빌드 데이터 파일 업로드는 겹치는 범위에 대해 확인됩니다. 이전에 건물 파일을 업로드한 경우 현재 파일을 다운로드하고 다시 업로드하여 겹침을 식별하고 문제를 해결해야 합니다. 이전에 업로드한 파일이 겹치면 보고서의 건물에 서브넷이 잘못 매핑될 수 있습니다.

### <a name="vpn"></a>VPN

클라이언트가 Microsoft 365 또는 Office 365 전송하는 QoE(환경 품질) 데이터에는 CQD 데이터가 원본으로 제공되는 위치에 VPN 플래그가 포함됩니다. CQD는 이를 첫 번째 VPN 및 두 번째 VPN 차원으로 표시합니다. 그러나 이 플래그는 등록된 VPN 네트워크 어댑터가 원격 액세스 어댑터임을 Windows에 보고하는 VPN 공급업체에 의존합니다. 모든 VPN 공급업체가 원격 액세스 어댑터를 제대로 등록하지는 않습니다. 이 때문에 기본 제공 VPN 쿼리 필터를 사용하지 못할 수 있습니다. 위에서 설명한 VPN 열을 사용하여 VPN 서브넷을 정확하게 표시하고 식별합니다. 보고서에서 쉽게 식별할 수 있도록 VPN 네트워크에 레이블을 지정하는 것도 좋습니다. 다음은 VPN 서브넷에 레이블을 지정하는 방법의 두 가지 예입니다.

- VPN 서브넷에 대해 이 필드에 "VPN"을 입력하여 **네트워크 이름을** 정의합니다.

  ![네트워크 이름을 사용하는 VPN을 보여 주는 QCD 보고서 스크린샷](media/qerguide-image-vpnnetworkname.png)

- VPN 서브넷에 대해 이 필드에 "VPN"을 입력하여 **건물 이름을** 정의합니다.

  ![건물 이름을 사용하는 VPN을 보여 주는 QCD 보고서 스크린샷](media/qerguide-image-vpnbuildingname.png)

> [!NOTE]
> VPN 연결은 기본 연결이 무선일 때 네트워크 연결 유형을 유선으로 잘못 분류하는 것으로 알려져 있습니다. VPN 연결을 통해 품질을 확인할 때 연결 형식이 정확하게 식별되었다고 가정할 수 없습니다.

## <a name="endpoint-data-file"></a>엔드포인트 데이터 파일

다른 형식의 CQD 테넌트 데이터 파일은 **엔드포인트** 데이터 파일입니다. 열 값은 호출 레코드의 첫 번째 클라이언트 엔드포인트 이름 또는 두 번째 클라이언트 엔드포인트 이름 열에서 엔드포인트 만들기, 모델 또는 형식 정보를 표시하는 데 사용됩니다. 업로드하기 전에 유효성 검사를 통과하려면 업로드하는 데이터 파일의 형식이 다음 조건을 충족해야 합니다.

- 파일은 .tsv 파일(열은 TAB으로 구분됨) 또는 .csv 파일(열은 쉼표로 구분됨)이어야 합니다.

- 데이터 파일의 내용에는 테이블 헤더가 포함되지 않습니다. 데이터 파일의 첫 번째 줄은 "EndpointName"와 같은 헤더 레이블이 아닌 실제 데이터여야 합니다.

- 7개 열은 모두 문자열 데이터 형식만 사용합니다. 허용되는 최대 길이는 64자입니다.

- 항목은 대/소문자를 구분합니다. EndpointName **ABC123** 은 EndpointName **abc123** 에서 고유한 것으로 처리됩니다.

- 데이터 필드는 비어 있을 수 있지만 탭이나 쉼표로 구분해야 합니다. 빈 데이터 필드는 빈 문자열 값만 할당합니다.

- EndpointName은 고유해야 하며, 그렇지 않으면 업로드가 실패합니다. 동일한 EndpointName을 사용하는 중복 행 또는 두 개의 행이 있는 경우 충돌이 발생하면 잘못된 조인이 발생합니다.

- EndpointLabel1, EndpointLabel2 및 EndpointLabel3은 사용자 지정할 수 있는 레이블입니다. 빈 문자열 또는 "IT 부서 지정 2018 노트북" 또는 "자산 태그 5678"과 같은 값일 수 있습니다.

- 각 행에 대해 7개의 열이 있어야 하며 열은 다음 순서로 되어 있어야 합니다.

  **필드 순서:**

  EndpointName, EndpointMake, EndpointModel, EndpointType, EndpointLabel1, EndpointLabel2, EndpointLabel3

  **샘플 행:**

  `1409W3534, Fabrikam, Model 123, Laptop, IT designated 2018 Laptop, Asset Tag 5678, Purchase 2018`

## <a name="update-a-building-file"></a>건물 파일 업데이트

빌드 및 서브넷 정보를 수집하는 동안 관리자는 종종 시간이 지남에 따라 여러 번 건물 파일을 업로드하여 새 서브넷과 건물 정보를 사용할 수 있게 됩니다. 이 경우 건물 파일을 다시 업로드해야 합니다. 이 프로세스는 이전 섹션에 설명된 대로 초기 업로드와 비슷하며, 다음 섹션에 설명된 몇 가지 예외가 있습니다.

> [!Important]
> 한 번에 하나의 건물 파일만 활성화할 수 있습니다. 여러 빌드 파일은 누적되지 않습니다.

## <a name="add-net-new-subnets"></a>새 서브넷 추가

원래 네트워크 토폴로지의 일부가 아닌 새 서브넷을 CQD에 추가해야 하는 경우가 있습니다. 새 서브넷을 추가하려면 CQD의 **테넌트 데이터 업로드** 페이지에서 다음을 수행합니다.

1.  최신 복사본이 아직 없는 경우 원본 파일을 다운로드합니다.

1.  CQD에서 현재 파일을 제거합니다.

1.  원래 건물 파일을 편집하고 새 서브넷을 획득하기 하루 전에 발생하는 종료 날짜를 제공합니다.

1.  net 새 서브넷을 원래 건물 파일에 추가합니다.

1.  새로 수정된 건물 파일을 업로드하고 이전 건물 파일이 종료된 후 1일 동안 시작 날짜를 설정합니다.

## <a name="add-missing-subnets"></a>누락된 서브넷 추가

관리형 네트워크에 대한 빌드 정보를 업로드한 후에는 모든 관리형 네트워크에 건물 연결이 있어야 합니다. 그러나 항상 그렇지는 않습니다. 일반적으로 몇 개의 서브넷이 누락됩니다. 이러한 누락된 네트워크를 찾으려면 CQD **의 환경 품질 보고서** 페이지에서 **누락된 서브넷 보고서를** 검토합니다. 이렇게 하면 빌드 데이터 파일에 정의되지 않고 외부로 표시된 10개 이상의 오디오 스트림이 있는 모든 서브넷이 표시됩니다. 이 목록에 관리되는 네트워크가 없는지 확인합니다. 서브넷이 없는 경우 다음 절차를 사용하여 원래 빌드 데이터 파일을 업데이트하고 CQD에 다시 업로드합니다.

1. CQD의 **테넌트 데이터 업로드** 페이지로 이동합니다.

1. 최신 복사본이 아직 없는 경우 원본 파일을 다운로드합니다.

1. CQD에서 현재 파일을 제거합니다.

1. 새 서브넷을 원래 파일에 추가합니다.

1. 건물 파일을 업로드합니다. CQD가 기록 데이터를 처리하도록 시작 날짜를 최소 8개월 전으로 설정해야 합니다.


> [!IMPORTANT]
> 조직의 테넌트 데이터만 보려면 보고서를 필터링하려면 테 **넌트 ID를 이 보고서에 두 번째 테넌트 ID** 에 대한 쿼리 필터로 추가해야 합니다. 그렇지 않으면 보고서에 페더레이션된 서브넷이 표시됩니다.

> [!NOTE] 
> 월 연도 보고서 필터를 현재 월로 조정해야 합니다. **편집** 을 선택하고 **월 연도** 보고서 필터를 조정하여 새 기본 월을 저장합니다.


## <a name="related-topics"></a>관련 주제

[CQD용 건물 맵 만들기](CQD-building-mapping.md)

[Teams의 통화 품질 개선 및 모니터링](monitor-call-quality-qos.md)

[CQD란?](CQD-what-is-call-quality-dashboard.md)

[CQD(통화 품질 대시보드) 설정](turning-on-and-using-call-quality-dashboard.md)

[CQD 데이터 및 보고서](CQD-data-and-reports.md)

[CQD를 사용하여 통화 및 모임 품질 관리](quality-of-experience-review-guide.md)

[CQD에서 사용할 수 있는 차원 및 측정값](dimensions-and-measures-available-in-call-quality-dashboard.md)

[CQD의 스트림 분류](stream-classification-in-call-quality-dashboard.md)

[Power BI를 사용하여 CQD 데이터 분석](CQD-Power-BI-query-templates.md)
